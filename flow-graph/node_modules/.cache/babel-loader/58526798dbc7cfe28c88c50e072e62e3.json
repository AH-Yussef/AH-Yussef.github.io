{"remainingRequest":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/node_modules/babel-loader/lib/index.js!/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/node_modules/eslint-loader/index.js??ref--13-0!/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/src/assemblyLineComponents/branch.js","dependencies":[{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/src/assemblyLineComponents/branch.js","mtime":1618833201985},{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvYWxpaGFzc2FuL1RoZV9MT0wvUHJvamVjdHMvY29sbGFnZV9yZWxhdGVkL1NlY29uZFllYXIvQ29udHJvbF9TeXN0ZW1zL3NpZ25hbC1mbG93LWdyYXBoLXNvbHZlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9Vc2Vycy9hbGloYXNzYW4vVGhlX0xPTC9Qcm9qZWN0cy9jb2xsYWdlX3JlbGF0ZWQvU2Vjb25kWWVhci9Db250cm9sX1N5c3RlbXMvc2lnbmFsLWZsb3ctZ3JhcGgtc29sdmVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL1VzZXJzL2FsaWhhc3Nhbi9UaGVfTE9ML1Byb2plY3RzL2NvbGxhZ2VfcmVsYXRlZC9TZWNvbmRZZWFyL0NvbnRyb2xfU3lzdGVtcy9zaWduYWwtZmxvdy1ncmFwaC1zb2x2ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IGdzYXAgZnJvbSAnZ3NhcCc7CmltcG9ydCBzdG9yZSBmcm9tICcuLi9zdG9yZSc7CmV4cG9ydCB2YXIgQnJhbmNoID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBCcmFuY2goZnJvbUNvbXBvbmVudCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJyYW5jaCk7CgogICAgdGhpcy5jb2RlID0gdGhpcy5fZ2VuZXJhdGVDb2RlKCk7CiAgICB0aGlzLmJyYW5jaCA9IG51bGw7CiAgICB0aGlzLmFycm93ID0gbnVsbDsKICAgIHRoaXMud3JhcHBlciA9IG51bGw7CiAgICB0aGlzLnN0YXJ0aW5nUG9pbnQgPSB7CiAgICAgIHg6IDAsCiAgICAgIHk6IDAKICAgIH07CiAgICB0aGlzLmVuZGluZ1BvaW50ID0gewogICAgICB4OiAwLAogICAgICB5OiAwCiAgICB9OwogICAgdGhpcy5mcm9tID0gZnJvbUNvbXBvbmVudDsKICAgIHRoaXMudG8gPSBudWxsOwogICAgdGhpcy5tb3VzZURvd24gPSBmYWxzZTsKCiAgICB0aGlzLl9jcmVhdGUoKTsKCiAgICB0aGlzLl9hZGRBcnJvdygpOwogIH0KCiAgX2NyZWF0ZUNsYXNzKEJyYW5jaCwgW3sKICAgIGtleTogIl9jcmVhdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9jcmVhdGUoKSB7CiAgICAgIHZhciBib2FyZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJib2FyZCIpOwogICAgICB2YXIgc3ZnbnMgPSAiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciOyAvL3ZhcmlhYmxlIGZvciB0aGUgbmFtZXNwYWNlCgogICAgICB2YXIgbmV3QnJhbmNoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z25zLCAicGF0aCIpOwogICAgICB0aGlzLnN0YXJ0aW5nUG9pbnQueCA9IHRoaXMuZnJvbS5jZW50ZXIueCArIHRoaXMuZnJvbS53aWR0aCAvIDIgKiAxNjsKICAgICAgdGhpcy5zdGFydGluZ1BvaW50LnkgPSB0aGlzLmZyb20uY2VudGVyLnk7CiAgICAgIHRoaXMuZW5kaW5nUG9pbnQueCA9IHRoaXMuZnJvbS5jZW50ZXIueCArIHRoaXMuZnJvbS53aWR0aCAvIDIgKiAxNjsKICAgICAgdGhpcy5lbmRpbmdQb2ludC55ID0gdGhpcy5mcm9tLmNlbnRlci55OwoKICAgICAgdGhpcy5fdXBkYXRlQnJhbmNoQXR0cmlidXRlcyhuZXdCcmFuY2gpOwoKICAgICAgYm9hcmQuYXBwZW5kQ2hpbGQobmV3QnJhbmNoKTsKICAgICAgdGhpcy5icmFuY2ggPSBuZXdCcmFuY2g7CiAgICB9CiAgfSwgewogICAga2V5OiAiX2FkZEFycm93IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfYWRkQXJyb3coKSB7CiAgICAgIHZhciBib2FyZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJib2FyZCIpOwogICAgICB2YXIgc3ZnbnMgPSAiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciOyAvL3ZhcmlhYmxlIGZvciB0aGUgbmFtZXNwYWNlCgogICAgICB2YXIgbmV3QXJyb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnbnMsICJwb2x5Z29uIik7CgogICAgICB0aGlzLl91cGRhdGVBcnJvd0F0dHJpYnV0ZXMobmV3QXJyb3cpOwoKICAgICAgdGhpcy5hcnJvdyA9IG5ld0Fycm93OwogICAgICBib2FyZC5hcHBlbmRDaGlsZChuZXdBcnJvdyk7CiAgICB9CiAgfSwgewogICAga2V5OiAiX3VwZGF0ZUFycm93QXR0cmlidXRlcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX3VwZGF0ZUFycm93QXR0cmlidXRlcyhhcnJvdykgewogICAgICAvLyBsZXQgZGlyZWN0aW9uID0gMTsKICAgICAgLy8gaWYodGhpcy5zdGFydGluZ1BvaW50LnggPiB0aGlzLmVuZGluZ1BvaW50LngpIGRpcmVjdGlvbiA9IC0xOwogICAgICB2YXIgdGhldGEgPSBNYXRoLmF0YW4yKHRoaXMuZW5kaW5nUG9pbnQueSAtIHRoaXMuc3RhcnRpbmdQb2ludC55LCB0aGlzLmVuZGluZ1BvaW50LnggLSB0aGlzLnN0YXJ0aW5nUG9pbnQueCk7IC8vIGxvY2F0aW9uIG9mIGNlbnRyYWwgcG9pbnQ6CgogICAgICB2YXIgYnJhbmNoTGVuZ3RoID0gdGhpcy5icmFuY2guZ2V0VG90YWxMZW5ndGgoKTsKICAgICAgdmFyIGNlbnRlclBvaW50ID0gdGhpcy5icmFuY2guZ2V0UG9pbnRBdExlbmd0aCgwLjUgKiBicmFuY2hMZW5ndGgpOwogICAgICB2YXIgY3ggPSBjZW50ZXJQb2ludC54OwogICAgICB2YXIgY3kgPSBjZW50ZXJQb2ludC55OwogICAgICB2YXIgcG9pbnRBID0gewogICAgICAgIHg6IGN4ICsgOCwKICAgICAgICB5OiBjeQogICAgICB9OwogICAgICB2YXIgcG9pbnRCID0gewogICAgICAgIHg6IGN4IC0gOCwKICAgICAgICB5OiBjeSArIDgKICAgICAgfTsKICAgICAgdmFyIHBvaW50QyA9IHsKICAgICAgICB4OiBjeCwKICAgICAgICB5OiBjeQogICAgICB9OwogICAgICB2YXIgcG9pbnREID0gewogICAgICAgIHg6IGN4IC0gOCwKICAgICAgICB5OiBjeSAtIDgKICAgICAgfTsKICAgICAgcG9pbnRBID0gdGhpcy5fcm90YXRlUG9pbnQoY3gsIGN5LCB0aGV0YSwgcG9pbnRBKTsKICAgICAgcG9pbnRCID0gdGhpcy5fcm90YXRlUG9pbnQoY3gsIGN5LCB0aGV0YSwgcG9pbnRCKTsKICAgICAgcG9pbnREID0gdGhpcy5fcm90YXRlUG9pbnQoY3gsIGN5LCB0aGV0YSwgcG9pbnREKTsKICAgICAgZ3NhcC5zZXQoYXJyb3csIHsKICAgICAgICBhdHRyOiB7CiAgICAgICAgICBwb2ludHM6ICIiLmNvbmNhdChwb2ludEEueCwgIiwiKS5jb25jYXQocG9pbnRBLnksICIgIikuY29uY2F0KHBvaW50Qi54LCAiLCIpLmNvbmNhdChwb2ludEIueSwgIiAiKS5jb25jYXQocG9pbnRDLngsICIsIikuY29uY2F0KHBvaW50Qy55LCAiICIpLmNvbmNhdChwb2ludEQueCwgIiwiKS5jb25jYXQocG9pbnRELnkpLAogICAgICAgICAgZmlsbDogImJsYWNrIgogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiX3VwZGF0ZUJyYW5jaEF0dHJpYnV0ZXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF91cGRhdGVCcmFuY2hBdHRyaWJ1dGVzKGJyYW5jaCkgewogICAgICB2YXIgcDF4ID0gdGhpcy5zdGFydGluZ1BvaW50Lng7CiAgICAgIHZhciBwMXkgPSB0aGlzLnN0YXJ0aW5nUG9pbnQueTsKICAgICAgdmFyIHAyeCA9IHRoaXMuZW5kaW5nUG9pbnQueDsKICAgICAgdmFyIHAyeSA9IHRoaXMuZW5kaW5nUG9pbnQueTsgLy8gbWlkLXBvaW50IG9mIGxpbmU6CgogICAgICB2YXIgbXB4ID0gKHAyeCArIHAxeCkgKiAwLjU7CiAgICAgIHZhciBtcHkgPSAocDJ5ICsgcDF5KSAqIDAuNTsgLy8gYW5nbGUgb2YgcGVycGVuZGljdWxhciB0byBsaW5lOgoKICAgICAgdmFyIHRoZXRhID0gTWF0aC5hdGFuMihwMnkgLSBwMXksIHAyeCAtIHAxeCkgLSBNYXRoLlBJIC8gMjsgLy8gZGlzdGFuY2Ugb2YgY29udHJvbCBwb2ludCBmcm9tIG1pZC1wb2ludCBvZiBsaW5lOgoKICAgICAgdmFyIHdpZHRoID0gcDJ4IC0gcDF4OwogICAgICB2YXIgb2Zmc2V0ID0gd2lkdGggLyAzOwogICAgICBpZiAocDF4ID4gcDJ4KSBvZmZzZXQgPSB3aWR0aCAvIDIgKiAtMTsKICAgICAgY29uc29sZS5sb2cod2lkdGgpOwogICAgICBpZiAoTWF0aC5hYnMod2lkdGgpIDw9IDIuMiAqIDE2KSBvZmZzZXQgPSB3aWR0aCAqIDMuNTsgLy8gbG9jYXRpb24gb2YgY29udHJvbCBwb2ludDoKCiAgICAgIHZhciBjeCA9IG1weCArIG9mZnNldCAqIE1hdGguY29zKHRoZXRhKTsKICAgICAgdmFyIGN5ID0gbXB5ICsgb2Zmc2V0ICogTWF0aC5zaW4odGhldGEpOwogICAgICB2YXIgcGFyYW1ldGVycyA9ICJNIi5jb25jYXQocDF4LCAiICIpLmNvbmNhdChwMXksICIgUSIpLmNvbmNhdChjeCwgIiAiKS5jb25jYXQoY3ksICIgIikuY29uY2F0KHAyeCwgIiAiKS5jb25jYXQocDJ5KTsKICAgICAgZ3NhcC5zZXQoYnJhbmNoLCB7CiAgICAgICAgYXR0cjogewogICAgICAgICAgZDogcGFyYW1ldGVycywKICAgICAgICAgIHN0cm9rZTogImJsYWNrIiwKICAgICAgICAgICdzdHJva2Utd2lkdGgnOiAiMnB4IiwKICAgICAgICAgIGZpbGw6ICJub25lIgogICAgICAgIH0sCiAgICAgICAgY3NzOiB7CiAgICAgICAgICBwb2ludGVyRXZlbnRzOiAibm9uZSIKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInVwZGF0ZVN0YXJ0aW5nUG9pbnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVN0YXJ0aW5nUG9pbnQoKSB7CiAgICAgIHRoaXMuc3RhcnRpbmdQb2ludC54ID0gdGhpcy5mcm9tLmNlbnRlci54ICsgdGhpcy5mcm9tLndpZHRoIC8gMiAqIDE2OwogICAgICB0aGlzLnN0YXJ0aW5nUG9pbnQueSA9IHRoaXMuZnJvbS5jZW50ZXIueTsgLy8gdGhpcy5icmFuY2guc2V0QXR0cmlidXRlKCJ4MSIsIHRoaXMuc3RhcnRpbmdQb2ludC54KTsKICAgICAgLy8gdGhpcy5icmFuY2guc2V0QXR0cmlidXRlKCJ5MSIsIHRoaXMuc3RhcnRpbmdQb2ludC55KTsKCiAgICAgIHRoaXMuX3VwZGF0ZUJyYW5jaEF0dHJpYnV0ZXModGhpcy5icmFuY2gpOwoKICAgICAgdGhpcy5fdXBkYXRlQXJyb3dBdHRyaWJ1dGVzKHRoaXMuYXJyb3cpOwoKICAgICAgdGhpcy5fc2V0V3JhcHBlcigpOwogICAgfQogIH0sIHsKICAgIGtleTogInVwZGF0ZUVuZGluZ1BvaW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVFbmRpbmdQb2ludCh4LCB5KSB7CiAgICAgIHRoaXMuZW5kaW5nUG9pbnQueCA9IHg7CiAgICAgIHRoaXMuZW5kaW5nUG9pbnQueSA9IHk7CgogICAgICB0aGlzLl91cGRhdGVCcmFuY2hBdHRyaWJ1dGVzKHRoaXMuYnJhbmNoKTsKCiAgICAgIHRoaXMuX3VwZGF0ZUFycm93QXR0cmlidXRlcyh0aGlzLmFycm93KTsKCiAgICAgIHRoaXMuX3NldFdyYXBwZXIoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ1cGRhdGVFbmRpbmdQb2ludEF1dG8iLAogICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUVuZGluZ1BvaW50QXV0bygpIHsKICAgICAgdGhpcy51cGRhdGVFbmRpbmdQb2ludCh0aGlzLnRvLmNlbnRlci54IC0gdGhpcy50by53aWR0aCAvIDIgKiAxNiwgdGhpcy50by5jZW50ZXIueSk7CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0VG9Db21wb25lbnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldFRvQ29tcG9uZW50KHRvQ29tcG9uZW50KSB7CiAgICAgIHRoaXMudG8gPSB0b0NvbXBvbmVudDsKICAgICAgdmFyIHRvUG9pbnRYID0gdG9Db21wb25lbnQuY2VudGVyLnggLSB0b0NvbXBvbmVudC53aWR0aCAvIDIgKiAxNjsKICAgICAgdmFyIHRvUG9pbnRZID0gdG9Db21wb25lbnQuY2VudGVyLnk7CiAgICAgIHRoaXMudXBkYXRlRW5kaW5nUG9pbnQodG9Qb2ludFgsIHRvUG9pbnRZKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW1vdmVTZWxmIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVTZWxmKCkgewogICAgICB0aGlzLmJyYW5jaC5yZW1vdmUoKTsKICAgICAgdGhpcy5hcnJvdy5yZW1vdmUoKTsKICAgICAgaWYgKHRoaXMudG8gIT0gbnVsbCkgdGhpcy50by5mcm9tQ29ubmVjdGlvblBvaW50LmZyb21Db21wb25lbnRzLmRlbGV0ZSh0aGlzLmZyb20uY29kZSk7CiAgICAgIHRoaXMuZnJvbS50b0Nvbm5lY3Rpb25Qb2ludC5vdXRDb25uZWN0b3JzLmRlbGV0ZSh0aGlzLmNvZGUpOwogICAgICBpZiAodGhpcy53cmFwcGVyICE9IG51bGwpIHRoaXMud3JhcHBlci5yZW1vdmUoKTsKICAgIH0gLy9mb3IgaW50ZXJmYWNlIGNvbXBhdGlibGl0eSByZWdhcmRzCgogIH0sIHsKICAgIGtleTogInJlbW92ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlKCkgewogICAgICB0aGlzLnJlbW92ZVNlbGYoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJfZ2VuZXJhdGVDb2RlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2VuZXJhdGVDb2RlKCkgewogICAgICByZXR1cm4gQnJhbmNoLmNvZGVDb3VudCsrOwogICAgfSAvL2JyYW5jaCB3cmFwcGVyCgogIH0sIHsKICAgIGtleTogImNyZWF0ZUJyYW5jaFdyYXBwZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUJyYW5jaFdyYXBwZXIoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgYm9hcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYm9hcmQiKTsKICAgICAgdmFyIHN2Z25zID0gImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIjsgLy92YXJpYWJsZSBmb3IgdGhlIG5hbWVzcGFjZQoKICAgICAgdmFyIHNlbGVjdGlvbldyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnbnMsICJlbGxpcHNlIik7CiAgICAgIHRoaXMud3JhcHBlciA9IHNlbGVjdGlvbldyYXBwZXI7CgogICAgICB0aGlzLl9zZXRXcmFwcGVyKCk7CgogICAgICB0aGlzLndyYXBwZXIub25tb3VzZWRvd24gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuc2V0U2VsZkFzU2VsZWN0ZWQoKTsKCiAgICAgICAgX3RoaXMubW91c2VEb3duID0gdHJ1ZTsKICAgICAgfTsKCiAgICAgIHRoaXMud3JhcHBlci5vbm1vdXNldXAgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIF90aGlzLm1vdXNlRG93biA9IGZhbHNlOwogICAgICB9OwoKICAgICAgYm9hcmQuYXBwZW5kQ2hpbGQoc2VsZWN0aW9uV3JhcHBlcik7CiAgICB9CiAgfSwgewogICAga2V5OiAiX3NldFdyYXBwZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXRXcmFwcGVyKCkgewogICAgICBpZiAodGhpcy53cmFwcGVyID09IG51bGwpIHJldHVybjsKICAgICAgdmFyIGxpbmVMZW5ndGggPSBNYXRoLnNxcnQoTWF0aC5wb3codGhpcy5lbmRpbmdQb2ludC54IC0gdGhpcy5zdGFydGluZ1BvaW50LngsIDIpICsgTWF0aC5wb3codGhpcy5lbmRpbmdQb2ludC55IC0gdGhpcy5zdGFydGluZ1BvaW50LnksIDIpKTsKICAgICAgdmFyIGNlbnRlclggPSAodGhpcy5zdGFydGluZ1BvaW50LnggKyB0aGlzLmVuZGluZ1BvaW50LngpIC8gMjsKICAgICAgdmFyIGNlbnRlclkgPSAodGhpcy5zdGFydGluZ1BvaW50LnkgKyB0aGlzLmVuZGluZ1BvaW50LnkpIC8gMjsKICAgICAgdmFyIHdpZHRoID0gdGhpcy5lbmRpbmdQb2ludC54IC0gdGhpcy5zdGFydGluZ1BvaW50Lng7CiAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmVuZGluZ1BvaW50LnkgLSB0aGlzLnN0YXJ0aW5nUG9pbnQueTsKICAgICAgdmFyIHJvdGF0aW9uQW5nbGUgPSBNYXRoLmF0YW4oaGVpZ2h0IC8gd2lkdGgpICogKDE4MCAvIE1hdGguUEkpOwogICAgICB2YXIgc2VsZWN0b3JSYWRpdXNXID0gTWF0aC5hYnMobGluZUxlbmd0aCAvIDIgLSA1KTsKICAgICAgdmFyIHNlbGVjdG9yUmFkaXVzSCA9IE1hdGguYWJzKDUpOwogICAgICBnc2FwLnNldCh0aGlzLndyYXBwZXIsIHsKICAgICAgICBhdHRyOiB7CiAgICAgICAgICBjeDogY2VudGVyWCwKICAgICAgICAgIGN5OiBjZW50ZXJZLAogICAgICAgICAgcng6IHNlbGVjdG9yUmFkaXVzVywKICAgICAgICAgIHJ5OiBzZWxlY3RvclJhZGl1c0gsCiAgICAgICAgICBmaWxsOiAndHJhbnNwYXJlbnQnLAogICAgICAgICAgdHJhbnNmb3JtOiAicm90YXRlKCIuY29uY2F0KHJvdGF0aW9uQW5nbGUsICIgIikuY29uY2F0KGNlbnRlclgsICIgIikuY29uY2F0KGNlbnRlclksICIpIikKICAgICAgICB9CiAgICAgIH0pOwogICAgfSAvL3NlbGVjdGlvbgoKICB9LCB7CiAgICBrZXk6ICJzZXRTZWxmQXNTZWxlY3RlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0U2VsZkFzU2VsZWN0ZWQoKSB7CiAgICAgIHZhciBwcmV2U2VsZWN0ZWRDb21wb25lbnQgPSBzdG9yZS5nZXR0ZXJzLmdldEN1cnJTZWxlY3RlZENvbXBvbmVudDsKCiAgICAgIGlmIChwcmV2U2VsZWN0ZWRDb21wb25lbnQgIT0gbnVsbCkgewogICAgICAgIHByZXZTZWxlY3RlZENvbXBvbmVudC51bnNlbGVjdFNlbGYoKTsKICAgICAgfQoKICAgICAgc3RvcmUuY29tbWl0KCdzZXRDdXJyU2VsZWN0ZWRDb21wb25lbnQnLCB0aGlzKTsKCiAgICAgIHRoaXMuX3NlbGVjdFNlbGYoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJfc2VsZWN0U2VsZiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX3NlbGVjdFNlbGYoKSB7CiAgICAgIHRoaXMuYnJhbmNoLnNldEF0dHJpYnV0ZSgic3Ryb2tlIiwgInJnYigzMCwgODksIDIwMikiKTsKICAgICAgdGhpcy5hcnJvdy5zZXRBdHRyaWJ1dGUoImZpbGwiLCAicmdiKDMwLCA4OSwgMjAyKSIpOwogICAgfQogIH0sIHsKICAgIGtleTogInVuc2VsZWN0U2VsZiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdW5zZWxlY3RTZWxmKCkgewogICAgICB0aGlzLmJyYW5jaC5zZXRBdHRyaWJ1dGUoInN0cm9rZSIsICJibGFjayIpOwogICAgfSAvL2hlbHBlciAKCiAgfSwgewogICAga2V5OiAiX3JvdGF0ZVBvaW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfcm90YXRlUG9pbnQoY3gsIGN5LCBhbmdsZSwgcG9pbnQpIHsKICAgICAgdmFyIGFuZ2xlU2luID0gTWF0aC5zaW4oYW5nbGUpOwogICAgICB2YXIgYW5nbGVDb3MgPSBNYXRoLmNvcyhhbmdsZSk7CiAgICAgIHBvaW50LnggLT0gY3g7CiAgICAgIHBvaW50LnkgLT0gY3k7CiAgICAgIHZhciB4TmV4ID0gcG9pbnQueCAqIGFuZ2xlQ29zIC0gcG9pbnQueSAqIGFuZ2xlU2luOwogICAgICB2YXIgeU5ldyA9IHBvaW50LnggKiBhbmdsZVNpbiArIHBvaW50LnkgKiBhbmdsZUNvczsKICAgICAgcG9pbnQueCA9IHhOZXggKyBjeDsKICAgICAgcG9pbnQueSA9IHlOZXcgKyBjeTsKICAgICAgcmV0dXJuIHBvaW50OwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEJyYW5jaDsKfSgpOwoKX2RlZmluZVByb3BlcnR5KEJyYW5jaCwgImNvZGVDb3VudCIsIDEpOw=="},{"version":3,"sources":["/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/src/assemblyLineComponents/branch.js"],"names":["gsap","store","Branch","fromComponent","code","_generateCode","branch","arrow","wrapper","startingPoint","x","y","endingPoint","from","to","mouseDown","_create","_addArrow","board","document","getElementById","svgns","newBranch","createElementNS","center","width","_updateBranchAttributes","appendChild","newArrow","_updateArrowAttributes","theta","Math","atan2","branchLength","getTotalLength","centerPoint","getPointAtLength","cx","cy","pointA","pointB","pointC","pointD","_rotatePoint","set","attr","points","fill","p1x","p1y","p2x","p2y","mpx","mpy","PI","offset","console","log","abs","cos","sin","parameters","d","stroke","css","pointerEvents","_setWrapper","updateEndingPoint","toComponent","toPointX","toPointY","remove","fromConnectionPoint","fromComponents","delete","toConnectionPoint","outConnectors","removeSelf","codeCount","selectionWrapper","onmousedown","setSelfAsSelected","onmouseup","lineLength","sqrt","pow","centerX","centerY","height","rotationAngle","atan","selectorRadiusW","selectorRadiusH","rx","ry","transform","prevSelectedComponent","getters","getCurrSelectedComponent","unselectSelf","commit","_selectSelf","setAttribute","angle","point","angleSin","angleCos","xNex","yNew"],"mappings":"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","sourcesContent":["import gsap from 'gsap';\nimport store from '../store';\n\nexport class Branch {\n    static codeCount = 1;\n\n    constructor(fromComponent) {\n      this.code = this._generateCode();\n      this.branch = null;\n      this.arrow = null;\n      this.wrapper = null;\n\n      this.startingPoint = { x: 0, y: 0};\n      this.endingPoint = { x: 0, y: 0};\n\n      this.from = fromComponent;\n      this.to = null;\n\n      this.mouseDown = false;\n\n      this._create();\n      this._addArrow();\n    }\n\n    _create() {    \n      const board = document.getElementById(\"board\");\n      const svgns = \"http://www.w3.org/2000/svg\"; //variable for the namespace\n      const newBranch = document.createElementNS(svgns, \"path\");\n\n      this.startingPoint.x = this.from.center.x + ((this.from.width / 2)*16);\n      this.startingPoint.y = this.from.center.y;\n      \n      this.endingPoint.x = this.from.center.x + ((this.from.width / 2)*16);\n      this.endingPoint.y = this.from.center.y;\n\n      this._updateBranchAttributes(newBranch);\n      \n      board.appendChild(newBranch);\n\n      this.branch = newBranch;\n    }\n\n    _addArrow() {\n      const board = document.getElementById(\"board\");\n      const svgns = \"http://www.w3.org/2000/svg\"; //variable for the namespace\n\n      const newArrow = document.createElementNS(svgns, \"polygon\");\n\n      this._updateArrowAttributes(newArrow);      \n\n      this.arrow = newArrow;\n      board.appendChild(newArrow);\n    }\n\n    _updateArrowAttributes(arrow) {\n      // let direction = 1;\n      // if(this.startingPoint.x > this.endingPoint.x) direction = -1;\n\n      const theta = (Math.atan2(this.endingPoint.y - this.startingPoint.y, \n                                this.endingPoint.x - this.startingPoint.x));\n\n      // location of central point:\n      const branchLength = this.branch.getTotalLength();\n      const centerPoint = this.branch.getPointAtLength(0.5*branchLength);\n      const cx = centerPoint.x;\n      const cy = centerPoint.y;\n\n      let pointA = { x: cx+8, y: cy };\n      let pointB = { x: cx-8, y: cy+8 };\n      let pointC = { x: cx, y: cy };\n      let pointD = { x: cx-8, y: cy-8 };\n\n      pointA = this._rotatePoint(cx, cy, theta, pointA);\n      pointB = this._rotatePoint(cx, cy, theta, pointB);\n      pointD = this._rotatePoint(cx, cy, theta, pointD);\n\n      gsap.set(arrow, {\n        attr: {\n          points: `${pointA.x},${pointA.y} ${pointB.x},${pointB.y} ${pointC.x},${pointC.y} ${pointD.x},${pointD.y}`, \n          fill: \"black\",\n        },\n      });\n    }\n\n    _updateBranchAttributes(branch) {\n      const p1x = this.startingPoint.x;\n      const p1y = this.startingPoint.y;\n      const p2x = this.endingPoint.x;\n      const p2y = this.endingPoint.y;\n\n      // mid-point of line:\n      const mpx = (p2x + p1x) * 0.5;\n      const mpy = (p2y + p1y) * 0.5;\n\n      // angle of perpendicular to line:\n      const theta = Math.atan2(p2y - p1y, p2x - p1x) - Math.PI / 2;\n\n      // distance of control point from mid-point of line:\n      const width = p2x - p1x;\n      let offset = width / 3;\n      if(p1x > p2x) offset = (width / 2) * -1;\n      console.log(width);\n      if(Math.abs(width) <= (2.2*16)) offset = width * 3.5;\n\n      // location of control point:\n      const cx = mpx + offset * Math.cos(theta);\n      const cy = mpy + offset * Math.sin(theta);\n\n      const parameters = `M${p1x} ${p1y} Q${cx} ${cy} ${p2x} ${p2y}`;\n\n      gsap.set(branch, {\n        attr: {\n          d: parameters,\n          stroke: \"black\", 'stroke-width': \"2px\", fill: \"none\",\n        },\n        css: {\n          pointerEvents: \"none\",\n        }\n      });\n    }\n\n    updateStartingPoint() {\n      this.startingPoint.x = this.from.center.x + ((this.from.width / 2)*16);\n      this.startingPoint.y = this.from.center.y;\n\n      // this.branch.setAttribute(\"x1\", this.startingPoint.x);\n      // this.branch.setAttribute(\"y1\", this.startingPoint.y);\n      this._updateBranchAttributes(this.branch);\n      this._updateArrowAttributes(this.arrow);\n\n      this._setWrapper();\n    }\n\n    updateEndingPoint(x, y) {\n      this.endingPoint.x = x;\n      this.endingPoint.y = y;\n      \n      this._updateBranchAttributes(this.branch);\n      this._updateArrowAttributes(this.arrow);\n\n      this._setWrapper();\n    }\n\n    updateEndingPointAuto() {\n      this.updateEndingPoint(this.to.center.x - ((this.to.width / 2)*16), this.to.center.y);\n    }\n\n    setToComponent(toComponent) {\n      this.to = toComponent;\n      const toPointX = toComponent.center.x - ((toComponent.width / 2)*16);\n      const toPointY = toComponent.center.y;\n      this.updateEndingPoint(toPointX, toPointY);\n    }\n\n    removeSelf(){\n      this.branch.remove();\n      this.arrow.remove();\n      if(this.to != null) this.to.fromConnectionPoint.fromComponents.delete(this.from.code);\n      this.from.toConnectionPoint.outConnectors.delete(this.code);\n      if(this.wrapper != null) this.wrapper.remove();\n    }\n\n    //for interface compatiblity regards\n    remove() {\n      this.removeSelf();\n    }\n\n    _generateCode() {\n      return Branch.codeCount++;\n    }\n\n    //branch wrapper\n    createBranchWrapper(){\n      const board = document.getElementById(\"board\");\n      const svgns = \"http://www.w3.org/2000/svg\"; //variable for the namespace\n      const selectionWrapper = document.createElementNS(svgns, \"ellipse\");\n      this.wrapper = selectionWrapper;\n\n      this._setWrapper();\n\n      this.wrapper.onmousedown = () => {\n        this.setSelfAsSelected();\n        this.mouseDown = true;\n      }\n\n      this.wrapper.onmouseup = () => this.mouseDown = false;\n      \n      board.appendChild(selectionWrapper);\n    }\n\n    _setWrapper(){\n      if(this.wrapper == null) return;\n      \n      const lineLength = Math.sqrt(Math.pow((this.endingPoint.x - this.startingPoint.x), 2) +\n      Math.pow((this.endingPoint.y - this.startingPoint.y), 2));\n  \n      const centerX = (this.startingPoint.x + this.endingPoint.x) /2;\n      const centerY = (this.startingPoint.y + this.endingPoint.y) /2;\n  \n      const width = this.endingPoint.x - this.startingPoint.x;\n      const height = this.endingPoint.y - this.startingPoint.y;\n\n      const rotationAngle = Math.atan(height/ width) *(180/ Math.PI);\n  \n      const selectorRadiusW = Math.abs((lineLength/2) - 5);\n      const selectorRadiusH = Math.abs(5);\n  \n      gsap.set(this.wrapper, {\n        attr: {\n          cx: centerX, cy: centerY, rx: selectorRadiusW, ry: selectorRadiusH,\n          fill: 'transparent',\n          transform: `rotate(${rotationAngle} ${centerX} ${centerY})`,\n        }\n      });\n    }\n\n    //selection\n    setSelfAsSelected() {\n      const prevSelectedComponent = store.getters.getCurrSelectedComponent;\n      if(prevSelectedComponent != null) {\n        prevSelectedComponent.unselectSelf();\n      }\n  \n      store.commit('setCurrSelectedComponent', this);\n      this._selectSelf();\n    }\n  \n    _selectSelf() {\n      this.branch.setAttribute(\"stroke\", \"rgb(30, 89, 202)\");\n      this.arrow.setAttribute(\"fill\", \"rgb(30, 89, 202)\");\n    }\n\n    unselectSelf() {\n      this.branch.setAttribute(\"stroke\", \"black\");\n    }\n\n    //helper \n    _rotatePoint(cx, cy, angle, point) {\n      const angleSin = Math.sin(angle);\n      const angleCos = Math.cos(angle);\n\n      point.x -= cx;\n      point.y -= cy;\n\n      const xNex = point.x * angleCos - point.y * angleSin;\n      const yNew = point.x * angleSin + point.y * angleCos;\n\n      point.x = xNex + cx;\n      point.y = yNew + cy;\n\n      return point;\n    }\n}\n\n\n\n\n\n\n\n\n\n\n\n\n"]}]}