{"remainingRequest":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/node_modules/babel-loader/lib/index.js!/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/node_modules/eslint-loader/index.js??ref--13-0!/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/src/assemblyLineComponents/connectionPoints/toConnectionPoint.js","dependencies":[{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/src/assemblyLineComponents/connectionPoints/toConnectionPoint.js","mtime":1610575330314},{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy9hbGloYXNzYW4vVGhlX0xPTC9Qcm9qZWN0cy9jb2xsYWdlX3JlbGF0ZWQvU2Vjb25kWWVhci9Db250cm9sX1N5c3RlbXMvc2lnbmFsLWZsb3ctZ3JhcGgtc29sdmVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvYWxpaGFzc2FuL1RoZV9MT0wvUHJvamVjdHMvY29sbGFnZV9yZWxhdGVkL1NlY29uZFllYXIvQ29udHJvbF9TeXN0ZW1zL3NpZ25hbC1mbG93LWdyYXBoLXNvbHZlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9Vc2Vycy9hbGloYXNzYW4vVGhlX0xPTC9Qcm9qZWN0cy9jb2xsYWdlX3JlbGF0ZWQvU2Vjb25kWWVhci9Db250cm9sX1N5c3RlbXMvc2lnbmFsLWZsb3ctZ3JhcGgtc29sdmVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiL1VzZXJzL2FsaWhhc3Nhbi9UaGVfTE9ML1Byb2plY3RzL2NvbGxhZ2VfcmVsYXRlZC9TZWNvbmRZZWFyL0NvbnRyb2xfU3lzdGVtcy9zaWduYWwtZmxvdy1ncmFwaC1zb2x2ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICIvVXNlcnMvYWxpaGFzc2FuL1RoZV9MT0wvUHJvamVjdHMvY29sbGFnZV9yZWxhdGVkL1NlY29uZFllYXIvQ29udHJvbF9TeXN0ZW1zL3NpZ25hbC1mbG93LWdyYXBoLXNvbHZlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlU3VwZXIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCB7IENvbm5lY3Rpb25Qb2ludCB9IGZyb20gIi4vY29ubmVjdGlvblBvaW50LmpzIjsKaW1wb3J0IHsgQ29ubmVjdG9yIH0gZnJvbSAiLi4vY29ubmVjdG9yLmpzIjsKaW1wb3J0IHN0b3JlIGZyb20gIi4uLy4uL3N0b3JlIjsKZXhwb3J0IHZhciBUb0Nvbm5lY3Rpb25Qb2ludCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0Nvbm5lY3Rpb25Qb2ludCkgewogIF9pbmhlcml0cyhUb0Nvbm5lY3Rpb25Qb2ludCwgX0Nvbm5lY3Rpb25Qb2ludCk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoVG9Db25uZWN0aW9uUG9pbnQpOwoKICBmdW5jdGlvbiBUb0Nvbm5lY3Rpb25Qb2ludChjb21wb25lbnQpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVG9Db25uZWN0aW9uUG9pbnQpOwoKICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29tcG9uZW50KTsKICAgIF90aGlzLnRlbXBDb25uZWN0b3IgPSBudWxsOwogICAgX3RoaXMub3V0Q29ubmVjdG9ycyA9IG5ldyBNYXAoKTsKCiAgICBfdGhpcy5fY3JlYXRlQ29ubmVjdGlvbldyYXBwZXIoY29tcG9uZW50LmNlbnRlci55IC0gY29tcG9uZW50LndpZHRoIC8gMiAqIDE2KTsKCiAgICBfdGhpcy5fY3JlYXRlQ29ubmVjdGlvblBvaW50KGNvbXBvbmVudC5jZW50ZXIueCAtIGNvbXBvbmVudC53aWR0aCAvIDIgKiAxNik7CgogICAgX3RoaXMuX2FkZEFjdGlvbnMoKTsKCiAgICByZXR1cm4gX3RoaXM7CiAgfSAvL3JlbW92ZSBzZWxmIGFuZCB0aGUgY29ubmVjdG9ycwoKCiAgX2NyZWF0ZUNsYXNzKFRvQ29ubmVjdGlvblBvaW50LCBbewogICAga2V5OiAiZGVsZXRlQWxsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkZWxldGVBbGwoKSB7CiAgICAgIHRoaXMucmVtb3ZlU2VsZigpOwoKICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMub3V0Q29ubmVjdG9ycy52YWx1ZXMoKSksCiAgICAgICAgICBfc3RlcDsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBjb25uZWN0b3IgPSBfc3RlcC52YWx1ZTsKICAgICAgICAgIGNvbm5lY3Rvci5yZW1vdmVTZWxmKCk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KCiAgICAgIHRoaXMub3V0Q29ubmVjdG9ycy5jbGVhcigpOwogICAgfQogIH0sIHsKICAgIGtleTogInVwZGF0ZVBvcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlUG9zKCkgewogICAgICB0aGlzLmNvbm5lY3Rpb25Qb2ludC5zZXRBdHRyaWJ1dGUoImN4IiwgdGhpcy5jb21wb25lbnRBdHRhY2hlZC5jZW50ZXIueCAtIHRoaXMuY29tcG9uZW50QXR0YWNoZWQud2lkdGggLyAyICogMTYpOwogICAgICB0aGlzLmNvbm5lY3Rpb25Qb2ludC5zZXRBdHRyaWJ1dGUoImN5IiwgdGhpcy5jb21wb25lbnRBdHRhY2hlZC5jZW50ZXIueSk7CiAgICAgIHRoaXMuY29ubmVjdGlvblBvaW50V3JhcHBlci5zZXRBdHRyaWJ1dGUoImN4IiwgdGhpcy5jb21wb25lbnRBdHRhY2hlZC5jZW50ZXIueCAtIHRoaXMuY29tcG9uZW50QXR0YWNoZWQud2lkdGggLyAyICogMTYpOwogICAgICB0aGlzLmNvbm5lY3Rpb25Qb2ludFdyYXBwZXIuc2V0QXR0cmlidXRlKCJjeSIsIHRoaXMuY29tcG9uZW50QXR0YWNoZWQuY2VudGVyLnkpOwogICAgfQogIH0sIHsKICAgIGtleTogIl9hZGRBY3Rpb25zIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfYWRkQWN0aW9ucygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLmNvbm5lY3Rpb25Qb2ludC5vbm1vdXNlZG93biA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuX2FkZENvbm5lY3RvcigpOwogICAgICB9OwogICAgfQogIH0sIHsKICAgIGtleTogInJlc2V0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZXNldCgpIHsKICAgICAgdGhpcy5yZW1vdmVTZWxmKCk7CgogICAgICB0aGlzLl9jcmVhdGVDb25uZWN0aW9uV3JhcHBlcih0aGlzLmNvbXBvbmVudEF0dGFjaGVkLmNlbnRlci55IC0gdGhpcy5jb21wb25lbnRBdHRhY2hlZC53aWR0aCAvIDIgKiAxNik7CgogICAgICB0aGlzLl9jcmVhdGVDb25uZWN0aW9uUG9pbnQodGhpcy5jb21wb25lbnRBdHRhY2hlZC5jZW50ZXIueCAtIHRoaXMuY29tcG9uZW50QXR0YWNoZWQud2lkdGggLyAyICogMTYpOwoKICAgICAgdGhpcy5fYWRkQWN0aW9ucygpOwogICAgfSAvL2luaXRpYWxpemluZyBjb25uZWN0b3IKCiAgfSwgewogICAga2V5OiAiX2FkZENvbm5lY3RvciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX2FkZENvbm5lY3RvcigpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5jb21wb25lbnRBdHRhY2hlZC5pc01hY2hpbmUgJiYgdGhpcy5vdXRDb25uZWN0b3JzLnNpemUgPiAwKSByZXR1cm47CiAgICAgIHZhciBoZWFkZXJPZmZzZXRIZWlnaHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaGVhZGVyIikub2Zmc2V0SGVpZ2h0OwogICAgICB0aGlzLnRlbXBDb25uZWN0b3IgPSBuZXcgQ29ubmVjdG9yKHRoaXMuY29tcG9uZW50QXR0YWNoZWQpOwogICAgICBzdG9yZS5kaXNwYXRjaCgnc2V0RnJvbUNvbXBvbmVudCcsIHRoaXMuY29tcG9uZW50QXR0YWNoZWQpOwogICAgICB2YXIgdHJhY2tlciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoIXN0b3JlLmdldHRlcnMuaXNCb2FyZE1vdXNlRG93bikgewogICAgICAgICAgaWYgKHN0b3JlLmdldHRlcnMuZ2V0VG9Db21wb25lbnQgPT0gbnVsbCkgewogICAgICAgICAgICBfdGhpczMuX3JlbW92ZUNvbm5lY3RvcigpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMzLl9ob29rQ29ubmVjdG9yKCk7CiAgICAgICAgICB9CgogICAgICAgICAgY2xlYXJJbnRlcnZhbCh0cmFja2VyKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIHVwZGF0ZWRYID0gd2luZG93Lm1vdXNlWDsKICAgICAgICAgIHZhciB1cGRhdGVkWSA9IHdpbmRvdy5tb3VzZVkgLSBoZWFkZXJPZmZzZXRIZWlnaHQ7CgogICAgICAgICAgX3RoaXMzLnRlbXBDb25uZWN0b3IudXBkYXRlRW5kaW5nUG9pbnQodXBkYXRlZFgsIHVwZGF0ZWRZKTsKICAgICAgICB9CiAgICAgIH0sIDEwKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJfcmVtb3ZlQ29ubmVjdG9yIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVtb3ZlQ29ubmVjdG9yKCkgewogICAgICB0aGlzLnRlbXBDb25uZWN0b3IucmVtb3ZlU2VsZigpOwogICAgfQogIH0sIHsKICAgIGtleTogIl9ob29rQ29ubmVjdG9yIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfaG9va0Nvbm5lY3RvcigpIHsKICAgICAgdmFyIHRvQ29tcG9uZW50ID0gc3RvcmUuZ2V0dGVycy5nZXRUb0NvbXBvbmVudDsKCiAgICAgIGlmICghdGhpcy5jb21wb25lbnRBdHRhY2hlZC5pc01hY2hpbmUgJiYgIXRvQ29tcG9uZW50LmlzTWFjaGluZSkgewogICAgICAgIHRoaXMuX3JlbW92ZUNvbm5lY3RvcigpOwoKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmNvbXBvbmVudEF0dGFjaGVkLmlzTWFjaGluZSAmJiB0b0NvbXBvbmVudC5pc01hY2hpbmUpIHsKICAgICAgICB0aGlzLl9yZW1vdmVDb25uZWN0b3IoKTsKCiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAodG9Db21wb25lbnQuZnJvbUNvbm5lY3Rpb25Qb2ludC5oYXNGcm9tQ29tcG9uZW50KHRoaXMuY29tcG9uZW50QXR0YWNoZWQuY29kZSkpIHsKICAgICAgICB0aGlzLl9yZW1vdmVDb25uZWN0b3IoKTsKCiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLnRlbXBDb25uZWN0b3Iuc2V0VG9Db21wb25lbnQodG9Db21wb25lbnQpOwogICAgICB0b0NvbXBvbmVudC5mcm9tQ29ubmVjdGlvblBvaW50LmFkZEZyb21Db21wb25lbnQodGhpcy5jb21wb25lbnRBdHRhY2hlZCk7CiAgICAgIHRvQ29tcG9uZW50LmZyb21Db25uZWN0aW9uUG9pbnQuYWRkSW5Db25uZWN0b3IodGhpcy50ZW1wQ29ubmVjdG9yKTsKICAgICAgdGhpcy5vdXRDb25uZWN0b3JzLnNldCh0aGlzLnRlbXBDb25uZWN0b3IuY29kZSwgdGhpcy50ZW1wQ29ubmVjdG9yKTsKICAgICAgdGhpcy50ZW1wQ29ubmVjdG9yLmNyZWF0ZUNvbm5lY3RvcldyYXBwZXIoKTsKICAgICAgdGhpcy5jb21wb25lbnRBdHRhY2hlZC5yZXNldENvbm5lY3Rpb25Qb2ludHMoKTsKICAgICAgdG9Db21wb25lbnQucmVzZXRDb25uZWN0aW9uUG9pbnRzKCk7CiAgICAgIHN0b3JlLmRpc3BhdGNoKCdyZXNldEZyb21Db21wb25lbnQnKTsKICAgICAgc3RvcmUuZGlzcGF0Y2goJ3Jlc2V0VG9Db21wb25lbnQnKTsKCiAgICAgIHRoaXMuX3Jlc2V0QWxsTWFjaGluZXMoKTsKCiAgICAgIHRoaXMuX3Jlc2V0QWxsUXVldWVzKCk7CgogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVwbGF5LWJ0biIpLmNsYXNzTmFtZSA9ICdoaWRkZW4nOwogICAgfSAvL3Jlc2V0IHF1ZXVlcyBhbmQgbWFjaGluZQoKICB9LCB7CiAgICBrZXk6ICJfcmVzZXRBbGxNYWNoaW5lcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX3Jlc2V0QWxsTWFjaGluZXMoKSB7CiAgICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoc3RvcmUuZ2V0dGVycy5tYWNoaW5lcy52YWx1ZXMoKSksCiAgICAgICAgICBfc3RlcDI7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgbWFjaGluZSA9IF9zdGVwMi52YWx1ZTsKICAgICAgICAgIG1hY2hpbmUucmVzZXRDb2xvcigpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yMi5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yMi5mKCk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJfcmVzZXRBbGxRdWV1ZXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9yZXNldEFsbFF1ZXVlcygpIHsKICAgICAgdmFyIF9pdGVyYXRvcjMgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihzdG9yZS5nZXR0ZXJzLnF1ZXVlcy52YWx1ZXMoKSksCiAgICAgICAgICBfc3RlcDM7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yMy5zKCk7ICEoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgcXVldWUgPSBfc3RlcDMudmFsdWU7CiAgICAgICAgICBxdWV1ZS5yZXNldENvdW50KCk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IzLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IzLmYoKTsKICAgICAgfQogICAgfQogIH1dKTsKCiAgcmV0dXJuIFRvQ29ubmVjdGlvblBvaW50Owp9KENvbm5lY3Rpb25Qb2ludCk7"},{"version":3,"sources":["/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/src/assemblyLineComponents/connectionPoints/toConnectionPoint.js"],"names":["ConnectionPoint","Connector","store","ToConnectionPoint","component","tempConnector","outConnectors","Map","_createConnectionWrapper","center","y","width","_createConnectionPoint","x","_addActions","removeSelf","values","connector","clear","connectionPoint","setAttribute","componentAttached","connectionPointWrapper","onmousedown","_addConnector","isMachine","size","headerOffsetHeight","document","getElementById","offsetHeight","dispatch","tracker","setInterval","getters","isBoardMouseDown","getToComponent","_removeConnector","_hookConnector","clearInterval","updatedX","window","mouseX","updatedY","mouseY","updateEndingPoint","toComponent","fromConnectionPoint","hasFromComponent","code","setToComponent","addFromComponent","addInConnector","set","createConnectorWrapper","resetConnectionPoints","_resetAllMachines","_resetAllQueues","className","machines","machine","resetColor","queues","queue","resetCount"],"mappings":"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","sourcesContent":["import { ConnectionPoint } from \"./connectionPoint.js\";\nimport { Connector } from \"../connector.js\";\nimport store from \"../../store\";\n\nexport class ToConnectionPoint extends ConnectionPoint{\n  constructor(component) {\n    super(component);\n    this.tempConnector = null;\n    this.outConnectors = new Map();\n\n    this._createConnectionWrapper(component.center.y - ((component.width / 2)*16));\n    this._createConnectionPoint(component.center.x - ((component.width / 2)*16));\n    this._addActions();\n  }\n\n  //remove self and the connectors\n  deleteAll() {\n    this.removeSelf();\n    for(let connector of this.outConnectors.values()) {\n      connector.removeSelf();\n    }\n    this.outConnectors.clear();\n  }\n\n  updatePos() {\n    this.connectionPoint.setAttribute(\"cx\", this.componentAttached.center.x - ((this.componentAttached.width / 2)*16));\n    this.connectionPoint.setAttribute(\"cy\", this.componentAttached.center.y);\n\n    this.connectionPointWrapper.setAttribute(\"cx\", this.componentAttached.center.x - ((this.componentAttached.width / 2)*16));\n    this.connectionPointWrapper.setAttribute(\"cy\", this.componentAttached.center.y);\n  }\n\n  _addActions() {\n    this.connectionPoint.onmousedown = () => {\n      this._addConnector();\n    }\n  }\n\n  reset() {\n    this.removeSelf();\n    this._createConnectionWrapper(this.componentAttached.center.y - ((this.componentAttached.width / 2)*16));\n    this._createConnectionPoint(this.componentAttached.center.x - ((this.componentAttached.width / 2)*16));\n    this._addActions();\n  }\n\n  //initializing connector\n  _addConnector() {\n    if(this.componentAttached.isMachine && this.outConnectors.size > 0) return;\n\n    const headerOffsetHeight = document.getElementById(\"header\").offsetHeight;\n    this.tempConnector = new Connector(this.componentAttached);\n    store.dispatch('setFromComponent', this.componentAttached);\n    \n    const tracker = setInterval(() => {\n      if(!store.getters.isBoardMouseDown) {\n        if(store.getters.getToComponent == null){\n          this._removeConnector();\n        }\n        else{\n          this._hookConnector();\n        }\n        clearInterval(tracker);\n      }\n      else {\n        const updatedX = window.mouseX;\n        const updatedY = window.mouseY - headerOffsetHeight;\n        this.tempConnector.updateEndingPoint(updatedX, updatedY);\n      }\n    }, 10); \n  }\n\n  _removeConnector() {\n    this.tempConnector.removeSelf();\n  }\n\n  _hookConnector() {\n    const toComponent = store.getters.getToComponent;\n    if(!this.componentAttached.isMachine && !toComponent.isMachine){\n      this._removeConnector();\n      return;\n    }\n    if(this.componentAttached.isMachine && toComponent.isMachine){\n      this._removeConnector();\n      return;\n    }\n    if(toComponent.fromConnectionPoint.hasFromComponent(this.componentAttached.code)){\n      this._removeConnector();\n      return;\n    }\n\n    this.tempConnector.setToComponent(toComponent);\n\n    toComponent.fromConnectionPoint.addFromComponent(this.componentAttached);\n    toComponent.fromConnectionPoint.addInConnector(this.tempConnector);\n    \n    this.outConnectors.set(this.tempConnector.code, this.tempConnector);\n    this.tempConnector.createConnectorWrapper();\n\n    this.componentAttached.resetConnectionPoints();\n    toComponent.resetConnectionPoints();\n\n    store.dispatch('resetFromComponent');\n    store.dispatch('resetToComponent');\n\n    this._resetAllMachines();\n    this._resetAllQueues();\n    document.getElementById(\"replay-btn\").className = 'hidden'; \n  }\n\n  //reset queues and machine\n  _resetAllMachines() {\n    for(let machine of store.getters.machines.values()){\n      machine.resetColor();\n    }\n  }\n  _resetAllQueues() {\n    for(let queue of store.getters.queues.values()){\n      queue.resetCount();\n    }\n  }\n}"]}]}