{"remainingRequest":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/node_modules/babel-loader/lib/index.js!/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/node_modules/eslint-loader/index.js??ref--13-0!/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/src/assemblyLineComponents/queue.js","dependencies":[{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/src/assemblyLineComponents/queue.js","mtime":1610573591099},{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvYWxpaGFzc2FuL1RoZV9MT0wvUHJvamVjdHMvY29sbGFnZV9yZWxhdGVkL1NlY29uZFllYXIvQ29udHJvbF9TeXN0ZW1zL3NpZ25hbC1mbG93LWdyYXBoLXNvbHZlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9Vc2Vycy9hbGloYXNzYW4vVGhlX0xPTC9Qcm9qZWN0cy9jb2xsYWdlX3JlbGF0ZWQvU2Vjb25kWWVhci9Db250cm9sX1N5c3RlbXMvc2lnbmFsLWZsb3ctZ3JhcGgtc29sdmVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfYXNzZXJ0VGhpc0luaXRpYWxpemVkIGZyb20gIi9Vc2Vycy9hbGloYXNzYW4vVGhlX0xPTC9Qcm9qZWN0cy9jb2xsYWdlX3JlbGF0ZWQvU2Vjb25kWWVhci9Db250cm9sX1N5c3RlbXMvc2lnbmFsLWZsb3ctZ3JhcGgtc29sdmVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIi9Vc2Vycy9hbGloYXNzYW4vVGhlX0xPTC9Qcm9qZWN0cy9jb2xsYWdlX3JlbGF0ZWQvU2Vjb25kWWVhci9Db250cm9sX1N5c3RlbXMvc2lnbmFsLWZsb3ctZ3JhcGgtc29sdmVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cyI7CmltcG9ydCBfY3JlYXRlU3VwZXIgZnJvbSAiL1VzZXJzL2FsaWhhc3Nhbi9UaGVfTE9ML1Byb2plY3RzL2NvbGxhZ2VfcmVsYXRlZC9TZWNvbmRZZWFyL0NvbnRyb2xfU3lzdGVtcy9zaWduYWwtZmxvdy1ncmFwaC1zb2x2ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvYWxpaGFzc2FuL1RoZV9MT0wvUHJvamVjdHMvY29sbGFnZV9yZWxhdGVkL1NlY29uZFllYXIvQ29udHJvbF9TeXN0ZW1zL3NpZ25hbC1mbG93LWdyYXBoLXNvbHZlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgZ3NhcCBmcm9tICdnc2FwJzsKaW1wb3J0IHN0b3JlIGZyb20gJy4uL3N0b3JlJzsKaW1wb3J0IHsgQXNzZW1ibHlMaW5lQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnQuanMnOwpleHBvcnQgdmFyIFF1ZXVlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQXNzZW1ibHlMaW5lQ29tcG9uZW4pIHsKICBfaW5oZXJpdHMoUXVldWUsIF9Bc3NlbWJseUxpbmVDb21wb25lbik7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoUXVldWUpOwoKICBmdW5jdGlvbiBRdWV1ZSh4LCB5KSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFF1ZXVlKTsKCiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHgsIHkpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInNoaWZ0WCIsIC0oX3RoaXMud2lkdGggLyAyKSAqIDE2KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJzaGlmdFkiLCAtMSAqIDE2KTsKCiAgICBfdGhpcy5jb2RlID0gX3RoaXMuX2dlbmVyYXRlQ29kZSgpOwogICAgX3RoaXMuaXNNYWNoaW5lID0gZmFsc2U7CiAgICBfdGhpcy5pc1N0YXJ0aW5nUXVldWUgPSBmYWxzZTsKCiAgICBfdGhpcy5fY3JlYXRlKCk7CgogICAgX3RoaXMuX2FkZEV2ZW50TGlzdGVuZXJzKCk7CgogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKFF1ZXVlLCBbewogICAga2V5OiAiX2NyZWF0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX2NyZWF0ZSgpIHsKICAgICAgdmFyIGJvYXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJvYXJkIik7CiAgICAgIHZhciBzdmducyA9ICJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI7IC8vdmFyaWFibGUgZm9yIHRoZSBuYW1lc3BhY2UKCiAgICAgIHZhciBuZXdRdWV1ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmducywgInJlY3QiKTsKICAgICAgdGhpcy53aWR0aCA9IDU7CiAgICAgIHRoaXMuc2hpZnRYID0gLSh0aGlzLndpZHRoIC8gMikgKiAxNjsKICAgICAgZ3NhcC5zZXQobmV3UXVldWUsIHsKICAgICAgICBhdHRyOiB7CiAgICAgICAgICB4OiB0aGlzLmNlbnRlci54ICsgdGhpcy5zaGlmdFgsCiAgICAgICAgICB5OiB0aGlzLmNlbnRlci55ICsgdGhpcy5zaGlmdFksCiAgICAgICAgICB3aWR0aDogIjVyZW0iLAogICAgICAgICAgaGVpZ2h0OiAiMnJlbSIsCiAgICAgICAgICBmaWxsOiAiI0Y0RDAzRiIsCiAgICAgICAgICBzdHJva2U6ICJibGFjayIsCiAgICAgICAgICAnc3Ryb2tlLXdpZHRoJzogIjJweCIKICAgICAgICB9CiAgICAgIH0pOwogICAgICB2YXIgbmV3UXVldWVMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmducywgInRleHQiKTsKICAgICAgbmV3UXVldWVMYWJlbC50ZXh0Q29udGVudCA9ICJRIi5jb25jYXQodGhpcy5jb2RlLCAifDAiKTsKICAgICAgZ3NhcC5zZXQobmV3UXVldWVMYWJlbCwgewogICAgICAgIGF0dHI6IHsKICAgICAgICAgIHg6IHRoaXMuY2VudGVyLngsCiAgICAgICAgICB5OiB0aGlzLmNlbnRlci55LAogICAgICAgICAgInRleHQtYW5jaG9yIjogIm1pZGRsZSIsCiAgICAgICAgICBmaWxsOiAiYmxhY2siLAogICAgICAgICAgImZvbnQtc2l6ZSI6ICJtZWRpdW0iLAogICAgICAgICAgZHk6ICIwLjRyZW0iCiAgICAgICAgfSwKICAgICAgICBjc3M6IHsKICAgICAgICAgIHVzZXJTZWxlY3Q6ICdub25lJywKICAgICAgICAgIHBvaW50ZXJFdmVudHM6ICdub25lJwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIGJvYXJkLmFwcGVuZENoaWxkKG5ld1F1ZXVlKTsKICAgICAgYm9hcmQuYXBwZW5kQ2hpbGQobmV3UXVldWVMYWJlbCk7CiAgICAgIHRoaXMuY29tcG9uZW50ID0gbmV3UXVldWU7CiAgICAgIHRoaXMuY29tcG9uZW50TGFiZWwgPSBuZXdRdWV1ZUxhYmVsOwoKICAgICAgdGhpcy5fYWRkQ29ubmVjdGlvblBvaW50cygpOwogICAgfQogIH0sIHsKICAgIGtleTogInVwZGF0ZVBvcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlUG9zKHgsIHkpIHsKICAgICAgdGhpcy51cGRhdGVDZW50ZXIoeCwgeSk7CgogICAgICB0aGlzLl91cGRhdGVDb25uZWN0aW9uUG9pbnRzUG9zKCk7CgogICAgICB0aGlzLmNvbXBvbmVudC5zZXRBdHRyaWJ1dGUoIngiLCB0aGlzLmNlbnRlci54ICsgdGhpcy5zaGlmdFgpOwogICAgICB0aGlzLmNvbXBvbmVudC5zZXRBdHRyaWJ1dGUoInkiLCB0aGlzLmNlbnRlci55ICsgdGhpcy5zaGlmdFkpOwogICAgICB0aGlzLmNvbXBvbmVudExhYmVsLnNldEF0dHJpYnV0ZSgieCIsIHRoaXMuY2VudGVyLngpOwogICAgICB0aGlzLmNvbXBvbmVudExhYmVsLnNldEF0dHJpYnV0ZSgieSIsIHRoaXMuY2VudGVyLnkpOwogICAgfQogIH0sIHsKICAgIGtleTogInVwZGF0ZVByb2R1Y3RzTnVtYmVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVQcm9kdWN0c051bWJlcihwcm9kdWN0TnVtYmVyKSB7CiAgICAgIHRoaXMuY29tcG9uZW50TGFiZWwudGV4dENvbnRlbnQgPSAiUSIuY29uY2F0KHRoaXMuY29kZSwgInwiKS5jb25jYXQocHJvZHVjdE51bWJlcik7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVzZXRDb3VudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzZXRDb3VudCgpIHsKICAgICAgdGhpcy51cGRhdGVQcm9kdWN0c051bWJlcigwKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW1vdmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZSgpIHsKICAgICAgUXVldWUuYXZhaWxhYmxlQ29kZXMucHVzaCh0aGlzLmNvZGUpOwogICAgICBzdG9yZS5nZXR0ZXJzLnF1ZXVlcy5kZWxldGUodGhpcy5jb2RlKTsKICAgICAgdGhpcy5yZW1vdmVTZWxmKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiX2dlbmVyYXRlQ29kZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX2dlbmVyYXRlQ29kZSgpIHsKICAgICAgaWYgKFF1ZXVlLmF2YWlsYWJsZUNvZGVzLmxlbmd0aCA+IDApIHJldHVybiBRdWV1ZS5hdmFpbGFibGVDb2Rlcy5wb3AoKTtlbHNlIHJldHVybiBRdWV1ZS5jb2RlQ291bnQrKzsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJfbW92ZU1vdXNlRG93bkhhbmRsaW5nIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfbW92ZU1vdXNlRG93bkhhbmRsaW5nKCkgewogICAgICB0aGlzLm1vdXNlRG93biA9IHRydWU7CgogICAgICB0aGlzLl90cmFja01vdmVtZW50KCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiX3RyYWNrTW92ZW1lbnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF90cmFja01vdmVtZW50KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBoZWFkZXJPZmZzZXRIZWlnaHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaGVhZGVyIikub2Zmc2V0SGVpZ2h0OwogICAgICB2YXIgdHJhY2tlciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoIV90aGlzMi5tb3VzZURvd24gfHwgIV90aGlzMi5tb3VzZU9uQm9hcmQoKSkgewogICAgICAgICAgY2xlYXJJbnRlcnZhbCh0cmFja2VyKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIHVwZGF0ZWRYID0gd2luZG93Lm1vdXNlWDsKICAgICAgICAgIHZhciB1cGRhdGVkWSA9IHdpbmRvdy5tb3VzZVkgLSBoZWFkZXJPZmZzZXRIZWlnaHQ7CgogICAgICAgICAgX3RoaXMyLnVwZGF0ZVBvcyh1cGRhdGVkWCwgdXBkYXRlZFkpOwoKICAgICAgICAgIF90aGlzMi5fdXBkYXRlQ29ubmVjdG9yc1BvcygpOwogICAgICAgIH0KICAgICAgfSwgMTApOwogICAgfQogIH0sIHsKICAgIGtleTogIl9hZGRFdmVudExpc3RlbmVycyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX2FkZEV2ZW50TGlzdGVuZXJzKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuY29tcG9uZW50Lm9ubW91c2Vkb3duID0gZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMy5fbW92ZU1vdXNlRG93bkhhbmRsaW5nKCk7CgogICAgICAgIF90aGlzMy5zZXRTZWxmQXNTZWxlY3RlZCgpOwogICAgICB9OwoKICAgICAgdGhpcy5jb21wb25lbnQub25tb3VzZXVwID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBfdGhpczMuX21vdmVNb3VzZVVwSGFuZGxpbmcoKTsKICAgICAgfTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpc0VuZFF1ZXVlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpc0VuZFF1ZXVlKCkgewogICAgICBpZiAodGhpcy50b0Nvbm5lY3Rpb25Qb2ludC5vdXRDb25uZWN0b3JzLnNpemUgPiAwKSByZXR1cm4gZmFsc2U7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIFF1ZXVlOwp9KEFzc2VtYmx5TGluZUNvbXBvbmVudCk7CgpfZGVmaW5lUHJvcGVydHkoUXVldWUsICJjb2RlQ291bnQiLCAwKTsKCl9kZWZpbmVQcm9wZXJ0eShRdWV1ZSwgImF2YWlsYWJsZUNvZGVzIiwgW10pOw=="},{"version":3,"sources":["/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/src/assemblyLineComponents/queue.js"],"names":["gsap","store","AssemblyLineComponent","Queue","x","y","width","code","_generateCode","isMachine","isStartingQueue","_create","_addEventListeners","board","document","getElementById","svgns","newQueue","createElementNS","shiftX","set","attr","center","shiftY","height","fill","stroke","newQueueLabel","textContent","dy","css","userSelect","pointerEvents","appendChild","component","componentLabel","_addConnectionPoints","updateCenter","_updateConnectionPointsPos","setAttribute","productNumber","updateProductsNumber","availableCodes","push","getters","queues","delete","removeSelf","length","pop","codeCount","mouseDown","_trackMovement","headerOffsetHeight","offsetHeight","tracker","setInterval","mouseOnBoard","clearInterval","updatedX","window","mouseX","updatedY","mouseY","updatePos","_updateConnectorsPos","onmousedown","_moveMouseDownHandling","setSelfAsSelected","onmouseup","_moveMouseUpHandling","toConnectionPoint","outConnectors","size"],"mappings":"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","sourcesContent":["import gsap from 'gsap';\nimport store from '../store';\nimport { AssemblyLineComponent } from './component.js';\n\nexport class Queue extends AssemblyLineComponent{\n  static codeCount = 0;\n  static availableCodes = [];\n\n  shiftX = - (this.width / 2) * 16;\n  shiftY = -1 * 16;\n\n  constructor(x, y) {\n    super(x, y);\n    this.code = this._generateCode();\n    this.isMachine = false;\n    this.isStartingQueue = false;\n    this._create();\n    this._addEventListeners();\n  }\n\n  _create() {\n    const board = document.getElementById(\"board\");\n    const svgns = \"http://www.w3.org/2000/svg\"; //variable for the namespace\n    const newQueue = document.createElementNS(svgns, \"rect\");\n    \n    this.width = 5;\n    this.shiftX = -(this.width / 2) * 16;\n\n    gsap.set(newQueue, {\n      attr: {\n        x: this.center.x + this.shiftX, y: this.center.y + this.shiftY,\n        width: \"5rem\", height: \"2rem\",\n        fill: \"#F4D03F\", stroke: \"black\", 'stroke-width': \"2px\", \n      }\n    });\n    \n    const newQueueLabel = document.createElementNS(svgns, \"text\");\n    newQueueLabel.textContent = `Q${this.code}|0`;\n    gsap.set(newQueueLabel, {\n      attr: {\n        x: this.center.x , y: this.center.y, \"text-anchor\": \"middle\", \n        fill: \"black\", \"font-size\": \"medium\", dy: \"0.4rem\"\n      },\n      css: {\n        userSelect: 'none', pointerEvents: 'none',\n      }\n    })\n\n    board.appendChild(newQueue);\n    board.appendChild(newQueueLabel);\n    this.component = newQueue;\n    this.componentLabel = newQueueLabel;\n\n    this._addConnectionPoints();\n  }\n\n  updatePos(x, y){\n    this.updateCenter(x, y);\n    this._updateConnectionPointsPos();\n\n    this.component.setAttribute(\"x\", this.center.x + this.shiftX);\n    this.component.setAttribute(\"y\", this.center.y + this.shiftY);\n\n    this.componentLabel.setAttribute(\"x\", this.center.x);\n    this.componentLabel.setAttribute(\"y\", this.center.y);\n  }\n\n  updateProductsNumber(productNumber) {\n    this.componentLabel.textContent = `Q${this.code}|${productNumber}`;\n  }\n\n  resetCount() {\n    this.updateProductsNumber(0);\n  }\n\n  remove() {\n    Queue.availableCodes.push(this.code);\n    store.getters.queues.delete(this.code);\n    this.removeSelf();\n  }\n\n  _generateCode() {\n    if(Queue.availableCodes.length > 0) return Queue.availableCodes.pop();\n    else return Queue.codeCount++;\n  }\n\n  _moveMouseDownHandling() {\n    this.mouseDown = true;\n    this._trackMovement();\n  }\n\n  _trackMovement(){\n    const headerOffsetHeight = document.getElementById(\"header\").offsetHeight;\n\n    const tracker = setInterval(() => {\n      if(!this.mouseDown || !this.mouseOnBoard()) {\n        clearInterval(tracker);\n      }\n      else {\n        const updatedX = window.mouseX;\n        const updatedY = window.mouseY - headerOffsetHeight;\n        this.updatePos(updatedX, updatedY);\n        this._updateConnectorsPos();\n      }\n    }, 10); \n  }\n\n  _addEventListeners() {\n    this.component.onmousedown = () => {\n      this._moveMouseDownHandling();\n      this.setSelfAsSelected();\n    }\n    this.component.onmouseup = () => this._moveMouseUpHandling();\n  }\n\n  isEndQueue() {\n    if(this.toConnectionPoint.outConnectors.size > 0) return false;\n    return true;\n  }\n}"]}]}