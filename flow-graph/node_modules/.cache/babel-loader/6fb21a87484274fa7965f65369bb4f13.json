{"remainingRequest":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/node_modules/babel-loader/lib/index.js!/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/node_modules/eslint-loader/index.js??ref--13-0!/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/src/graphComponents/branch.js","dependencies":[{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/src/graphComponents/branch.js","mtime":1619019895890},{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvYWxpaGFzc2FuL1RoZV9MT0wvUHJvamVjdHMvY29sbGFnZV9yZWxhdGVkL1NlY29uZFllYXIvQ29udHJvbF9TeXN0ZW1zL3NpZ25hbC1mbG93LWdyYXBoLXNvbHZlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9Vc2Vycy9hbGloYXNzYW4vVGhlX0xPTC9Qcm9qZWN0cy9jb2xsYWdlX3JlbGF0ZWQvU2Vjb25kWWVhci9Db250cm9sX1N5c3RlbXMvc2lnbmFsLWZsb3ctZ3JhcGgtc29sdmVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL1VzZXJzL2FsaWhhc3Nhbi9UaGVfTE9ML1Byb2plY3RzL2NvbGxhZ2VfcmVsYXRlZC9TZWNvbmRZZWFyL0NvbnRyb2xfU3lzdGVtcy9zaWduYWwtZmxvdy1ncmFwaC1zb2x2ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IGdzYXAgZnJvbSAnZ3NhcCc7CmltcG9ydCBzdG9yZSBmcm9tICcuLi9zdG9yZSc7CmV4cG9ydCB2YXIgQnJhbmNoID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBCcmFuY2goZnJvbUNvbXBvbmVudCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJyYW5jaCk7CgogICAgdGhpcy5jb2RlID0gdGhpcy5fZ2VuZXJhdGVDb2RlKCk7CiAgICB0aGlzLmdhaW4gPSAxOwogICAgdGhpcy5tb3VzZURvd24gPSBmYWxzZTsKICAgIHRoaXMucmV2ZXJzZWQgPSBmYWxzZTsKICAgIHRoaXMuYnJhbmNoID0gbnVsbDsKICAgIHRoaXMuYXJyb3cgPSBudWxsOwogICAgdGhpcy5nYWluTGFiZWwgPSBudWxsOwogICAgdGhpcy5zdGFydGluZ1BvaW50ID0gewogICAgICB4OiAwLAogICAgICB5OiAwCiAgICB9OwogICAgdGhpcy5lbmRpbmdQb2ludCA9IHsKICAgICAgeDogMCwKICAgICAgeTogMAogICAgfTsKICAgIHRoaXMuZnJvbSA9IGZyb21Db21wb25lbnQ7CiAgICB0aGlzLnRvID0gbnVsbDsKCiAgICB0aGlzLl9jcmVhdGUoKTsKCiAgICB0aGlzLl9hZGRBcnJvdygpOwogIH0KCiAgX2NyZWF0ZUNsYXNzKEJyYW5jaCwgW3sKICAgIGtleTogIl9jcmVhdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9jcmVhdGUoKSB7CiAgICAgIHZhciBib2FyZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJib2FyZCIpOwogICAgICB2YXIgc3ZnbnMgPSAiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciOyAvL3ZhcmlhYmxlIGZvciB0aGUgbmFtZXNwYWNlCgogICAgICB2YXIgbmV3QnJhbmNoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z25zLCAicGF0aCIpOwogICAgICB0aGlzLnN0YXJ0aW5nUG9pbnQueCA9IHRoaXMuZnJvbS5jZW50ZXIueCArIHRoaXMuZnJvbS53aWR0aCAvIDIgKiAxNjsKICAgICAgdGhpcy5zdGFydGluZ1BvaW50LnkgPSB0aGlzLmZyb20uY2VudGVyLnk7CiAgICAgIHRoaXMuZW5kaW5nUG9pbnQueCA9IHRoaXMuZnJvbS5jZW50ZXIueCArIHRoaXMuZnJvbS53aWR0aCAvIDIgKiAxNjsKICAgICAgdGhpcy5lbmRpbmdQb2ludC55ID0gdGhpcy5mcm9tLmNlbnRlci55OwoKICAgICAgdGhpcy5fdXBkYXRlQnJhbmNoQXR0cmlidXRlcyhuZXdCcmFuY2gpOwoKICAgICAgYm9hcmQuYXBwZW5kQ2hpbGQobmV3QnJhbmNoKTsKICAgICAgdGhpcy5icmFuY2ggPSBuZXdCcmFuY2g7CiAgICB9CiAgfSwgewogICAga2V5OiAiX3VwZGF0ZUJyYW5jaEF0dHJpYnV0ZXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF91cGRhdGVCcmFuY2hBdHRyaWJ1dGVzKGJyYW5jaCkgewogICAgICB2YXIgcDF4ID0gdGhpcy5zdGFydGluZ1BvaW50Lng7CiAgICAgIHZhciBwMXkgPSB0aGlzLnN0YXJ0aW5nUG9pbnQueTsKICAgICAgdmFyIHAyeCA9IHRoaXMuZW5kaW5nUG9pbnQueDsKICAgICAgdmFyIHAyeSA9IHRoaXMuZW5kaW5nUG9pbnQueTsKICAgICAgaWYgKHAyeCA8IHAxeCkgdGhpcy5yZXZlcnNlZCA9IHRydWU7ZWxzZSB0aGlzLnJldmVyc2VkID0gZmFsc2U7IC8vIG1pZC1wb2ludCBvZiBsaW5lOgoKICAgICAgdmFyIG1weCA9IChwMnggKyBwMXgpICogMC41OwogICAgICB2YXIgbXB5ID0gKHAyeSArIHAxeSkgKiAwLjU7IC8vIGFuZ2xlIG9mIHBlcnBlbmRpY3VsYXIgdG8gbGluZToKCiAgICAgIHZhciB0aGV0YSA9IE1hdGguYXRhbjIocDJ5IC0gcDF5LCBwMnggLSBwMXgpIC0gTWF0aC5QSSAvIDI7IC8vIGRpc3RhbmNlIG9mIGNvbnRyb2wgcG9pbnQgZnJvbSBtaWQtcG9pbnQgb2YgbGluZToKCiAgICAgIHZhciB3aWR0aCA9IHAyeCAtIHAxeDsKICAgICAgdmFyIG9mZnNldCA9IHdpZHRoIC8gMi41OwogICAgICBpZiAocDF4ID4gcDJ4KSBvZmZzZXQgPSB3aWR0aCAvIDIgKiAtMTsKICAgICAgaWYgKE1hdGguYWJzKHdpZHRoKSA8PSAyLjUgKiAxNikgb2Zmc2V0ID0gd2lkdGggKiAzOyAvLyBsb2NhdGlvbiBvZiBjb250cm9sIHBvaW50OgoKICAgICAgdmFyIGN4ID0gbXB4ICsgb2Zmc2V0ICogTWF0aC5jb3ModGhldGEpOwogICAgICB2YXIgY3kgPSBtcHkgKyBvZmZzZXQgKiBNYXRoLnNpbih0aGV0YSk7CiAgICAgIHZhciBwYXJhbWV0ZXJzID0gIk0iLmNvbmNhdChwMXgsICIgIikuY29uY2F0KHAxeSwgIiBRIikuY29uY2F0KGN4LCAiICIpLmNvbmNhdChjeSwgIiAiKS5jb25jYXQocDJ4LCAiICIpLmNvbmNhdChwMnkpOwogICAgICBnc2FwLnNldChicmFuY2gsIHsKICAgICAgICBhdHRyOiB7CiAgICAgICAgICBkOiBwYXJhbWV0ZXJzLAogICAgICAgICAgc3Ryb2tlOiAiYmxhY2siLAogICAgICAgICAgJ3N0cm9rZS13aWR0aCc6ICIycHgiLAogICAgICAgICAgZmlsbDogIm5vbmUiCiAgICAgICAgfSwKICAgICAgICBjc3M6IHsKICAgICAgICAgIHBvaW50ZXJFdmVudHM6ICJub25lIgogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiX2FkZEFycm93IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfYWRkQXJyb3coKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgYm9hcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYm9hcmQiKTsKICAgICAgdmFyIHN2Z25zID0gImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIjsgLy92YXJpYWJsZSBmb3IgdGhlIG5hbWVzcGFjZQoKICAgICAgdmFyIG5ld0Fycm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z25zLCAicG9seWdvbiIpOwoKICAgICAgdGhpcy5fdXBkYXRlQXJyb3dBdHRyaWJ1dGVzKG5ld0Fycm93KTsKCiAgICAgIHRoaXMuYXJyb3cgPSBuZXdBcnJvdzsKCiAgICAgIHRoaXMuYXJyb3cub25tb3VzZWRvd24gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuc2V0U2VsZkFzU2VsZWN0ZWQoKTsKCiAgICAgICAgX3RoaXMubW91c2VEb3duID0gdHJ1ZTsKICAgICAgfTsKCiAgICAgIHRoaXMuYXJyb3cub25tb3VzZXVwID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBfdGhpcy5tb3VzZURvd24gPSBmYWxzZTsKICAgICAgfTsKCiAgICAgIGJvYXJkLmFwcGVuZENoaWxkKG5ld0Fycm93KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJfdXBkYXRlQXJyb3dBdHRyaWJ1dGVzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfdXBkYXRlQXJyb3dBdHRyaWJ1dGVzKGFycm93KSB7CiAgICAgIHZhciB0aGV0YSA9IE1hdGguYXRhbjIodGhpcy5lbmRpbmdQb2ludC55IC0gdGhpcy5zdGFydGluZ1BvaW50LnksIHRoaXMuZW5kaW5nUG9pbnQueCAtIHRoaXMuc3RhcnRpbmdQb2ludC54KTsgLy8gbG9jYXRpb24gb2YgY2VudHJhbCBwb2ludDoKCiAgICAgIHZhciBicmFuY2hMZW5ndGggPSB0aGlzLmJyYW5jaC5nZXRUb3RhbExlbmd0aCgpOwogICAgICB2YXIgY2VudGVyUG9pbnQgPSB0aGlzLmJyYW5jaC5nZXRQb2ludEF0TGVuZ3RoKDAuNSAqIGJyYW5jaExlbmd0aCk7CiAgICAgIHZhciBjeCA9IGNlbnRlclBvaW50Lng7CiAgICAgIHZhciBjeSA9IGNlbnRlclBvaW50Lnk7CiAgICAgIHZhciBwb2ludEEgPSB7CiAgICAgICAgeDogY3ggKyA4LAogICAgICAgIHk6IGN5CiAgICAgIH07CiAgICAgIHZhciBwb2ludEIgPSB7CiAgICAgICAgeDogY3ggLSA4LAogICAgICAgIHk6IGN5ICsgOAogICAgICB9OwogICAgICB2YXIgcG9pbnRDID0gewogICAgICAgIHg6IGN4LAogICAgICAgIHk6IGN5CiAgICAgIH07CiAgICAgIHZhciBwb2ludEQgPSB7CiAgICAgICAgeDogY3ggLSA4LAogICAgICAgIHk6IGN5IC0gOAogICAgICB9OwogICAgICBwb2ludEEgPSB0aGlzLl9yb3RhdGVQb2ludChjeCwgY3ksIHRoZXRhLCBwb2ludEEpOwogICAgICBwb2ludEIgPSB0aGlzLl9yb3RhdGVQb2ludChjeCwgY3ksIHRoZXRhLCBwb2ludEIpOwogICAgICBwb2ludEQgPSB0aGlzLl9yb3RhdGVQb2ludChjeCwgY3ksIHRoZXRhLCBwb2ludEQpOwogICAgICBnc2FwLnNldChhcnJvdywgewogICAgICAgIGF0dHI6IHsKICAgICAgICAgIHBvaW50czogIiIuY29uY2F0KHBvaW50QS54LCAiLCIpLmNvbmNhdChwb2ludEEueSwgIiAiKS5jb25jYXQocG9pbnRCLngsICIsIikuY29uY2F0KHBvaW50Qi55LCAiICIpLmNvbmNhdChwb2ludEMueCwgIiwiKS5jb25jYXQocG9pbnRDLnksICIgIikuY29uY2F0KHBvaW50RC54LCAiLCIpLmNvbmNhdChwb2ludEQueSksCiAgICAgICAgICBmaWxsOiAiYmxhY2siCiAgICAgICAgfQogICAgICB9KTsKICAgIH0gLy8gcG9zdGlvbmluZwoKICB9LCB7CiAgICBrZXk6ICJ1cGRhdGVTdGFydGluZ1BvaW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVTdGFydGluZ1BvaW50KCkgewogICAgICB0aGlzLnN0YXJ0aW5nUG9pbnQueCA9IHRoaXMuZnJvbS5jZW50ZXIueCArIHRoaXMuZnJvbS53aWR0aCAvIDIgKiAxNjsKICAgICAgdGhpcy5zdGFydGluZ1BvaW50LnkgPSB0aGlzLmZyb20uY2VudGVyLnk7IC8vIHRoaXMuYnJhbmNoLnNldEF0dHJpYnV0ZSgieDEiLCB0aGlzLnN0YXJ0aW5nUG9pbnQueCk7CiAgICAgIC8vIHRoaXMuYnJhbmNoLnNldEF0dHJpYnV0ZSgieTEiLCB0aGlzLnN0YXJ0aW5nUG9pbnQueSk7CgogICAgICB0aGlzLl91cGRhdGVCcmFuY2hBdHRyaWJ1dGVzKHRoaXMuYnJhbmNoKTsKCiAgICAgIHRoaXMuX3VwZGF0ZUFycm93QXR0cmlidXRlcyh0aGlzLmFycm93KTsKCiAgICAgIGlmICh0aGlzLmdhaW5MYWJlbCAhPSBudWxsKSB0aGlzLl91cGRhdGVHYWluTGFiZWxBdHRyaWJ1dGVzKHRoaXMuZ2FpbkxhYmVsKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ1cGRhdGVFbmRpbmdQb2ludCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlRW5kaW5nUG9pbnQoeCwgeSkgewogICAgICB0aGlzLmVuZGluZ1BvaW50LnggPSB4OwogICAgICB0aGlzLmVuZGluZ1BvaW50LnkgPSB5OwoKICAgICAgdGhpcy5fdXBkYXRlQnJhbmNoQXR0cmlidXRlcyh0aGlzLmJyYW5jaCk7CgogICAgICB0aGlzLl91cGRhdGVBcnJvd0F0dHJpYnV0ZXModGhpcy5hcnJvdyk7CgogICAgICBpZiAodGhpcy5nYWluTGFiZWwgIT0gbnVsbCkgdGhpcy5fdXBkYXRlR2FpbkxhYmVsQXR0cmlidXRlcyh0aGlzLmdhaW5MYWJlbCk7CiAgICB9CiAgfSwgewogICAga2V5OiAidXBkYXRlRW5kaW5nUG9pbnRBdXRvIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVFbmRpbmdQb2ludEF1dG8oKSB7CiAgICAgIHRoaXMudXBkYXRlRW5kaW5nUG9pbnQodGhpcy50by5jZW50ZXIueCAtIHRoaXMudG8ud2lkdGggLyAyICogMTYsIHRoaXMudG8uY2VudGVyLnkpOwogICAgfSAvL2Nvbm5lY3Rpb24KCiAgfSwgewogICAga2V5OiAic2V0VG9Db21wb25lbnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldFRvQ29tcG9uZW50KHRvQ29tcG9uZW50KSB7CiAgICAgIHRoaXMudG8gPSB0b0NvbXBvbmVudDsKICAgICAgdmFyIHRvUG9pbnRYID0gdG9Db21wb25lbnQuY2VudGVyLnggLSB0b0NvbXBvbmVudC53aWR0aCAvIDIgKiAxNjsKICAgICAgdmFyIHRvUG9pbnRZID0gdG9Db21wb25lbnQuY2VudGVyLnk7CiAgICAgIHRoaXMudXBkYXRlRW5kaW5nUG9pbnQodG9Qb2ludFgsIHRvUG9pbnRZKTsKICAgIH0gLy9yZW1vdmFsCgogIH0sIHsKICAgIGtleTogInJlbW92ZVNlbGYiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZVNlbGYoKSB7CiAgICAgIHRoaXMuYnJhbmNoLnJlbW92ZSgpOwogICAgICB0aGlzLmFycm93LnJlbW92ZSgpOwogICAgICB0aGlzLmdhaW5MYWJlbC5yZW1vdmUoKTsKICAgICAgaWYgKHRoaXMudG8gIT0gbnVsbCkgdGhpcy50by5mcm9tQ29ubmVjdGlvblBvaW50LmZyb21Db21wb25lbnRzLmRlbGV0ZSh0aGlzLmZyb20uY29kZSk7CiAgICAgIHRoaXMuZnJvbS50b0Nvbm5lY3Rpb25Qb2ludC5vdXRDb25uZWN0b3JzLmRlbGV0ZSh0aGlzLmNvZGUpOwogICAgfSAvL2dhaW4KCiAgfSwgewogICAga2V5OiAiYWRkR2FpbkxhYmVsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRHYWluTGFiZWwoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGJvYXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJvYXJkIik7CiAgICAgIHZhciBzdmducyA9ICJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI7IC8vdmFyaWFibGUgZm9yIHRoZSBuYW1lc3BhY2UKCiAgICAgIHZhciBuZXdHYWluTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnbnMsICJ0ZXh0Iik7CiAgICAgIG5ld0dhaW5MYWJlbC50ZXh0Q29udGVudCA9ICIiLmNvbmNhdCh0aGlzLmdhaW4pOwoKICAgICAgdGhpcy5fdXBkYXRlR2FpbkxhYmVsQXR0cmlidXRlcyhuZXdHYWluTGFiZWwpOwoKICAgICAgdGhpcy5nYWluTGFiZWwgPSBuZXdHYWluTGFiZWw7CgogICAgICB0aGlzLmdhaW5MYWJlbC5vbmRibGNsaWNrID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBfdGhpczIuX3VwZGF0ZUdhaW5WYWx1ZSgpOwogICAgICB9OwoKICAgICAgYm9hcmQuYXBwZW5kQ2hpbGQobmV3R2FpbkxhYmVsKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJfdXBkYXRlR2FpbkxhYmVsQXR0cmlidXRlcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX3VwZGF0ZUdhaW5MYWJlbEF0dHJpYnV0ZXMoZ2FpbkxhYmVsKSB7CiAgICAgIHZhciBicmFuY2hMZW5ndGggPSB0aGlzLmJyYW5jaC5nZXRUb3RhbExlbmd0aCgpOwogICAgICB2YXIgY2VudGVyUG9pbnQgPSB0aGlzLmJyYW5jaC5nZXRQb2ludEF0TGVuZ3RoKDAuNSAqIGJyYW5jaExlbmd0aCk7CiAgICAgIGdzYXAuc2V0KGdhaW5MYWJlbCwgewogICAgICAgIGF0dHI6IHsKICAgICAgICAgIHg6IGNlbnRlclBvaW50LngsCiAgICAgICAgICB5OiBjZW50ZXJQb2ludC55ICsgKHRoaXMucmV2ZXJzZWQgPyAtMSA6IDEpICogMjAsCiAgICAgICAgICAidGV4dC1hbmNob3IiOiAibWlkZGxlIiwKICAgICAgICAgIGZpbGw6ICJibGFjayIsCiAgICAgICAgICAiZm9udC1zaXplIjogIm1lZGl1bSIsCiAgICAgICAgICBkeTogIjAuNXJlbSIsCiAgICAgICAgICBzdHJva2U6ICJibGFjayIsCiAgICAgICAgICAic3Ryb2tlLXdpZHRoIjogIjFweCIKICAgICAgICB9LAogICAgICAgIGNzczogewogICAgICAgICAgdXNlclNlbGVjdDogJ25vbmUnCiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJfdXBkYXRlR2FpblZhbHVlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfdXBkYXRlR2FpblZhbHVlKCkgewogICAgICB2YXIgZ2FpbiA9IDE7CgogICAgICBkbyB7CiAgICAgICAgZ2FpbiA9IHBhcnNlSW50KHdpbmRvdy5wcm9tcHQoImJyYW5jaCBnYWluID0gIiwgMTApKTsKICAgICAgfSB3aGlsZSAoaXNOYU4oZ2FpbikgfHwgZ2FpbiA9PSAwKTsKCiAgICAgIHRoaXMuZ2FpbiA9IGdhaW47CiAgICAgIGlmICh0aGlzLmdhaW5MYWJlbCAhPSBudWxsKSB0aGlzLmdhaW5MYWJlbC50ZXh0Q29udGVudCA9ICIiLmNvbmNhdCh0aGlzLmdhaW4pOwogICAgfSAvL2ZvciBpbnRlcmZhY2UgY29tcGF0aWJsaXR5IHJlZ2FyZHMKCiAgfSwgewogICAga2V5OiAicmVtb3ZlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmUoKSB7CiAgICAgIHRoaXMucmVtb3ZlU2VsZigpOwogICAgfQogIH0sIHsKICAgIGtleTogIl9nZW5lcmF0ZUNvZGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9nZW5lcmF0ZUNvZGUoKSB7CiAgICAgIHJldHVybiBCcmFuY2guY29kZUNvdW50Kys7CiAgICB9IC8vc2VsZWN0aW9uCgogIH0sIHsKICAgIGtleTogInNldFNlbGZBc1NlbGVjdGVkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRTZWxmQXNTZWxlY3RlZCgpIHsKICAgICAgdmFyIHByZXZTZWxlY3RlZENvbXBvbmVudCA9IHN0b3JlLmdldHRlcnMuZ2V0Q3VyclNlbGVjdGVkQ29tcG9uZW50OwoKICAgICAgaWYgKHByZXZTZWxlY3RlZENvbXBvbmVudCAhPSBudWxsKSB7CiAgICAgICAgcHJldlNlbGVjdGVkQ29tcG9uZW50LnVuc2VsZWN0U2VsZigpOwogICAgICB9CgogICAgICBzdG9yZS5jb21taXQoJ3NldEN1cnJTZWxlY3RlZENvbXBvbmVudCcsIHRoaXMpOwoKICAgICAgdGhpcy5fc2VsZWN0U2VsZigpOwogICAgfQogIH0sIHsKICAgIGtleTogIl9zZWxlY3RTZWxmIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfc2VsZWN0U2VsZigpIHsKICAgICAgdGhpcy5icmFuY2guc2V0QXR0cmlidXRlKCJzdHJva2UiLCAicmdiKDMwLCA4OSwgMjAyKSIpOwogICAgICB0aGlzLmFycm93LnNldEF0dHJpYnV0ZSgiZmlsbCIsICJyZ2IoMzAsIDg5LCAyMDIpIik7CiAgICB9CiAgfSwgewogICAga2V5OiAidW5zZWxlY3RTZWxmIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB1bnNlbGVjdFNlbGYoKSB7CiAgICAgIHRoaXMuYnJhbmNoLnNldEF0dHJpYnV0ZSgic3Ryb2tlIiwgImJsYWNrIik7CiAgICAgIHRoaXMuYXJyb3cuc2V0QXR0cmlidXRlKCJmaWxsIiwgImJsYWNrIik7CiAgICB9IC8vaGVscGVyIAoKICB9LCB7CiAgICBrZXk6ICJfcm90YXRlUG9pbnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9yb3RhdGVQb2ludChjeCwgY3ksIGFuZ2xlLCBwb2ludCkgewogICAgICB2YXIgYW5nbGVTaW4gPSBNYXRoLnNpbihhbmdsZSk7CiAgICAgIHZhciBhbmdsZUNvcyA9IE1hdGguY29zKGFuZ2xlKTsKICAgICAgcG9pbnQueCAtPSBjeDsKICAgICAgcG9pbnQueSAtPSBjeTsKICAgICAgdmFyIHhOZXggPSBwb2ludC54ICogYW5nbGVDb3MgLSBwb2ludC55ICogYW5nbGVTaW47CiAgICAgIHZhciB5TmV3ID0gcG9pbnQueCAqIGFuZ2xlU2luICsgcG9pbnQueSAqIGFuZ2xlQ29zOwogICAgICBwb2ludC54ID0geE5leCArIGN4OwogICAgICBwb2ludC55ID0geU5ldyArIGN5OwogICAgICByZXR1cm4gcG9pbnQ7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gQnJhbmNoOwp9KCk7CgpfZGVmaW5lUHJvcGVydHkoQnJhbmNoLCAiY29kZUNvdW50IiwgMSk7"},{"version":3,"sources":["/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/src/graphComponents/branch.js"],"names":["gsap","store","Branch","fromComponent","code","_generateCode","gain","mouseDown","reversed","branch","arrow","gainLabel","startingPoint","x","y","endingPoint","from","to","_create","_addArrow","board","document","getElementById","svgns","newBranch","createElementNS","center","width","_updateBranchAttributes","appendChild","p1x","p1y","p2x","p2y","mpx","mpy","theta","Math","atan2","PI","offset","abs","cx","cos","cy","sin","parameters","set","attr","d","stroke","fill","css","pointerEvents","newArrow","_updateArrowAttributes","onmousedown","setSelfAsSelected","onmouseup","branchLength","getTotalLength","centerPoint","getPointAtLength","pointA","pointB","pointC","pointD","_rotatePoint","points","_updateGainLabelAttributes","updateEndingPoint","toComponent","toPointX","toPointY","remove","fromConnectionPoint","fromComponents","delete","toConnectionPoint","outConnectors","newGainLabel","textContent","ondblclick","_updateGainValue","dy","userSelect","parseInt","window","prompt","isNaN","removeSelf","codeCount","prevSelectedComponent","getters","getCurrSelectedComponent","unselectSelf","commit","_selectSelf","setAttribute","angle","point","angleSin","angleCos","xNex","yNew"],"mappings":"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","sourcesContent":["import gsap from 'gsap';\nimport store from '../store';\n\nexport class Branch {\n    static codeCount = 1;\n\n    constructor(fromComponent) {\n      this.code = this._generateCode();\n      this.gain = 1;\n      this.mouseDown = false;\n      this.reversed = false;\n\n      this.branch = null;\n      this.arrow = null;\n      this.gainLabel = null;\n\n      this.startingPoint = { x: 0, y: 0};\n      this.endingPoint = { x: 0, y: 0};\n\n      this.from = fromComponent;\n      this.to = null;\n\n      this._create();\n      this._addArrow();\n    }\n\n    _create() {    \n      const board = document.getElementById(\"board\");\n      const svgns = \"http://www.w3.org/2000/svg\"; //variable for the namespace\n      const newBranch = document.createElementNS(svgns, \"path\");\n\n      this.startingPoint.x = this.from.center.x + ((this.from.width / 2)*16);\n      this.startingPoint.y = this.from.center.y;\n      \n      this.endingPoint.x = this.from.center.x + ((this.from.width / 2)*16);\n      this.endingPoint.y = this.from.center.y;\n\n      this._updateBranchAttributes(newBranch);\n      \n      board.appendChild(newBranch);\n\n      this.branch = newBranch;\n    }\n\n    _updateBranchAttributes(branch) {\n      const p1x = this.startingPoint.x;\n      const p1y = this.startingPoint.y;\n      const p2x = this.endingPoint.x;\n      const p2y = this.endingPoint.y;\n\n      if(p2x < p1x) this.reversed = true;\n      else this.reversed = false;\n\n      // mid-point of line:\n      const mpx = (p2x + p1x) * 0.5;\n      const mpy = (p2y + p1y) * 0.5;\n\n      // angle of perpendicular to line:\n      const theta = Math.atan2(p2y - p1y, p2x - p1x) - Math.PI / 2;\n\n      // distance of control point from mid-point of line:\n      const width = p2x - p1x;\n      let offset = width / 2.5;\n      if(p1x > p2x) offset = (width / 2) * -1;\n      if(Math.abs(width) <= (2.5*16)) offset = width * 3;\n\n      // location of control point:\n      const cx = mpx + offset * Math.cos(theta);\n      const cy = mpy + offset * Math.sin(theta);\n\n      const parameters = `M${p1x} ${p1y} Q${cx} ${cy} ${p2x} ${p2y}`;\n\n      gsap.set(branch, {\n        attr: {\n          d: parameters,\n          stroke: \"black\", 'stroke-width': \"2px\", fill: \"none\",\n        },\n        css: {\n          pointerEvents: \"none\",\n        }\n      });\n    }\n\n    _addArrow() {\n      const board = document.getElementById(\"board\");\n      const svgns = \"http://www.w3.org/2000/svg\"; //variable for the namespace\n\n      const newArrow = document.createElementNS(svgns, \"polygon\");\n\n      this._updateArrowAttributes(newArrow);      \n\n      this.arrow = newArrow;\n\n      this.arrow.onmousedown = () => {\n        this.setSelfAsSelected();\n        this.mouseDown = true;\n      }\n\n      this.arrow.onmouseup = () => this.mouseDown = false;\n\n      board.appendChild(newArrow);\n    }\n\n    _updateArrowAttributes(arrow) {\n      const theta = (Math.atan2(this.endingPoint.y - this.startingPoint.y, \n                                this.endingPoint.x - this.startingPoint.x));\n\n      // location of central point:\n      const branchLength = this.branch.getTotalLength();\n      const centerPoint = this.branch.getPointAtLength(0.5*branchLength);\n      const cx = centerPoint.x;\n      const cy = centerPoint.y;\n\n      let pointA = { x: cx+8, y: cy };\n      let pointB = { x: cx-8, y: cy+8 };\n      let pointC = { x: cx, y: cy };\n      let pointD = { x: cx-8, y: cy-8 };\n\n      pointA = this._rotatePoint(cx, cy, theta, pointA);\n      pointB = this._rotatePoint(cx, cy, theta, pointB);\n      pointD = this._rotatePoint(cx, cy, theta, pointD);\n\n      gsap.set(arrow, {\n        attr: {\n          points: `${pointA.x},${pointA.y} ${pointB.x},${pointB.y} ${pointC.x},${pointC.y} ${pointD.x},${pointD.y}`, \n          fill: \"black\",\n        },\n      });\n    }\n\n    // postioning\n    updateStartingPoint() {\n      this.startingPoint.x = this.from.center.x + ((this.from.width / 2)*16);\n      this.startingPoint.y = this.from.center.y;\n\n      // this.branch.setAttribute(\"x1\", this.startingPoint.x);\n      // this.branch.setAttribute(\"y1\", this.startingPoint.y);\n      this._updateBranchAttributes(this.branch);\n      this._updateArrowAttributes(this.arrow);\n      if(this.gainLabel != null) this._updateGainLabelAttributes(this.gainLabel);\n    }\n\n    updateEndingPoint(x, y) {\n      this.endingPoint.x = x;\n      this.endingPoint.y = y;\n      \n      this._updateBranchAttributes(this.branch);\n      this._updateArrowAttributes(this.arrow);\n      if(this.gainLabel != null) this._updateGainLabelAttributes(this.gainLabel);\n    }\n\n    updateEndingPointAuto() {\n      this.updateEndingPoint(this.to.center.x - ((this.to.width / 2)*16), this.to.center.y);\n    }\n\n    //connection\n    setToComponent(toComponent) {\n      this.to = toComponent;\n      const toPointX = toComponent.center.x - ((toComponent.width / 2)*16);\n      const toPointY = toComponent.center.y;\n      this.updateEndingPoint(toPointX, toPointY);\n    }\n\n    //removal\n    removeSelf(){\n      this.branch.remove();\n      this.arrow.remove();\n      this.gainLabel.remove();\n      if(this.to != null) this.to.fromConnectionPoint.fromComponents.delete(this.from.code);\n      this.from.toConnectionPoint.outConnectors.delete(this.code);\n    }\n\n    //gain\n    addGainLabel() {\n      const board = document.getElementById(\"board\");\n      const svgns = \"http://www.w3.org/2000/svg\"; //variable for the namespace\n      const newGainLabel = document.createElementNS(svgns, \"text\");\n      newGainLabel.textContent = `${this.gain}`;\n\n      this._updateGainLabelAttributes(newGainLabel);\n\n      this.gainLabel = newGainLabel;\n\n      this.gainLabel.ondblclick = () => this._updateGainValue();\n\n      board.appendChild(newGainLabel);\n    }\n\n    _updateGainLabelAttributes(gainLabel) {\n      const branchLength = this.branch.getTotalLength();\n      const centerPoint = this.branch.getPointAtLength(0.5*branchLength);\n\n      gsap.set(gainLabel, {\n        attr: {\n          x: centerPoint.x, y: centerPoint.y + (this.reversed ? -1: 1)* 20, \"text-anchor\": \"middle\", \n          fill: \"black\", \"font-size\": \"medium\", dy: \"0.5rem\", stroke: \"black\",\n          \"stroke-width\": \"1px\"\n        },\n        css: {\n          userSelect: 'none',\n        }\n      })\n    }\n    \n    _updateGainValue() {\n      let gain = 1;\n      do{\n        gain = parseInt(window.prompt(\"branch gain = \", 10));\n      } while( isNaN(gain) || gain == 0 );\n      this.gain = gain;\n      if(this.gainLabel != null )this.gainLabel.textContent = `${this.gain}`;\n    }\n\n    //for interface compatiblity regards\n    remove() {\n      this.removeSelf();\n    }\n\n    _generateCode() {\n      return Branch.codeCount++;\n    }\n\n    //selection\n    setSelfAsSelected() {\n      const prevSelectedComponent = store.getters.getCurrSelectedComponent;\n      if(prevSelectedComponent != null) {\n        prevSelectedComponent.unselectSelf();\n      }\n  \n      store.commit('setCurrSelectedComponent', this);\n      this._selectSelf();\n    }\n  \n    _selectSelf() {\n      this.branch.setAttribute(\"stroke\", \"rgb(30, 89, 202)\");\n      this.arrow.setAttribute(\"fill\", \"rgb(30, 89, 202)\");\n    }\n\n    unselectSelf() {\n      this.branch.setAttribute(\"stroke\", \"black\");\n      this.arrow.setAttribute(\"fill\", \"black\");\n    }\n\n    //helper \n    _rotatePoint(cx, cy, angle, point) {\n      const angleSin = Math.sin(angle);\n      const angleCos = Math.cos(angle);\n\n      point.x -= cx;\n      point.y -= cy;\n\n      const xNex = point.x * angleCos - point.y * angleSin;\n      const yNew = point.x * angleSin + point.y * angleCos;\n\n      point.x = xNex + cx;\n      point.y = yNew + cy;\n\n      return point;\n    }\n}\n\n\n\n\n\n\n\n\n\n\n\n\n"]}]}