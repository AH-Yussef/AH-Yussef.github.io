{"remainingRequest":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/node_modules/babel-loader/lib/index.js!/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/node_modules/eslint-loader/index.js??ref--13-0!/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/src/assemblyLineComponents/connector.js","dependencies":[{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/src/assemblyLineComponents/connector.js","mtime":1610474558114},{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvYWxpaGFzc2FuL1RoZV9MT0wvUHJvamVjdHMvY29sbGFnZV9yZWxhdGVkL1NlY29uZFllYXIvQ29udHJvbF9TeXN0ZW1zL3NpZ25hbC1mbG93LWdyYXBoLXNvbHZlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9Vc2Vycy9hbGloYXNzYW4vVGhlX0xPTC9Qcm9qZWN0cy9jb2xsYWdlX3JlbGF0ZWQvU2Vjb25kWWVhci9Db250cm9sX1N5c3RlbXMvc2lnbmFsLWZsb3ctZ3JhcGgtc29sdmVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL1VzZXJzL2FsaWhhc3Nhbi9UaGVfTE9ML1Byb2plY3RzL2NvbGxhZ2VfcmVsYXRlZC9TZWNvbmRZZWFyL0NvbnRyb2xfU3lzdGVtcy9zaWduYWwtZmxvdy1ncmFwaC1zb2x2ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IGdzYXAgZnJvbSAnZ3NhcCc7CmltcG9ydCBzdG9yZSBmcm9tICcuLi9zdG9yZSc7CmV4cG9ydCB2YXIgQ29ubmVjdG9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBDb25uZWN0b3IoZnJvbUNvbXBvbmVudCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbm5lY3Rvcik7CgogICAgdGhpcy5jb2RlID0gdGhpcy5fZ2VuZXJhdGVDb2RlKCk7CiAgICB0aGlzLmNvbm5lY3RvciA9IG51bGw7CiAgICB0aGlzLndyYXBwZXIgPSBudWxsOwogICAgdGhpcy5zdGFydGluZ1BvaW50ID0gewogICAgICB4OiAwLAogICAgICB5OiAwCiAgICB9OwogICAgdGhpcy5lbmRpbmdQb2ludCA9IHsKICAgICAgeDogMCwKICAgICAgeTogMAogICAgfTsKICAgIHRoaXMuZnJvbSA9IGZyb21Db21wb25lbnQ7CiAgICB0aGlzLnRvID0gbnVsbDsKICAgIHRoaXMubW91c2VEb3duID0gZmFsc2U7CgogICAgdGhpcy5fY3JlYXRlKCk7CiAgfQoKICBfY3JlYXRlQ2xhc3MoQ29ubmVjdG9yLCBbewogICAga2V5OiAiX2NyZWF0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX2NyZWF0ZSgpIHsKICAgICAgdmFyIGJvYXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJvYXJkIik7CiAgICAgIHZhciBzdmducyA9ICJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI7IC8vdmFyaWFibGUgZm9yIHRoZSBuYW1lc3BhY2UKCiAgICAgIHZhciBuZXdDb25uZWN0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnbnMsICJsaW5lIik7CiAgICAgIHRoaXMuc3RhcnRpbmdQb2ludC54ID0gdGhpcy5mcm9tLmNlbnRlci54IC0gdGhpcy5mcm9tLndpZHRoIC8gMiAqIDE2OwogICAgICB0aGlzLnN0YXJ0aW5nUG9pbnQueSA9IHRoaXMuZnJvbS5jZW50ZXIueTsKICAgICAgdGhpcy5lbmRpbmdQb2ludC54ID0gdGhpcy5mcm9tLmNlbnRlci54IC0gdGhpcy5mcm9tLndpZHRoIC8gMiAqIDE2OwogICAgICB0aGlzLmVuZGluZ1BvaW50LnkgPSB0aGlzLmZyb20uY2VudGVyLnk7CiAgICAgIGdzYXAuc2V0KG5ld0Nvbm5lY3RvciwgewogICAgICAgIGF0dHI6IHsKICAgICAgICAgIHgxOiB0aGlzLnN0YXJ0aW5nUG9pbnQueCwKICAgICAgICAgIHkxOiB0aGlzLnN0YXJ0aW5nUG9pbnQueSwKICAgICAgICAgIC8vc3RhcnRpbnQgcG9pbnQKICAgICAgICAgIHgyOiB0aGlzLmVuZGluZ1BvaW50LngsCiAgICAgICAgICB5MjogdGhpcy5lbmRpbmdQb2ludC55LAogICAgICAgICAgLy9lbmRpbmcgcG9pbnQKICAgICAgICAgIHN0cm9rZTogImJsYWNrIiwKICAgICAgICAgICdzdHJva2Utd2lkdGgnOiAiMnB4IgogICAgICAgIH0sCiAgICAgICAgY3NzOiB7CiAgICAgICAgICBwb2ludGVyRXZlbnRzOiAibm9uZSIKICAgICAgICB9CiAgICAgIH0pOwogICAgICBib2FyZC5hcHBlbmRDaGlsZChuZXdDb25uZWN0b3IpOwogICAgICB0aGlzLmNvbm5lY3RvciA9IG5ld0Nvbm5lY3RvcjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ1cGRhdGVTdGFydGluZ1BvaW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVTdGFydGluZ1BvaW50KCkgewogICAgICB0aGlzLnN0YXJ0aW5nUG9pbnQueCA9IHRoaXMuZnJvbS5jZW50ZXIueCAtIHRoaXMuZnJvbS53aWR0aCAvIDIgKiAxNjsKICAgICAgdGhpcy5zdGFydGluZ1BvaW50LnkgPSB0aGlzLmZyb20uY2VudGVyLnk7CiAgICAgIHRoaXMuY29ubmVjdG9yLnNldEF0dHJpYnV0ZSgieDEiLCB0aGlzLnN0YXJ0aW5nUG9pbnQueCk7CiAgICAgIHRoaXMuY29ubmVjdG9yLnNldEF0dHJpYnV0ZSgieTEiLCB0aGlzLnN0YXJ0aW5nUG9pbnQueSk7CgogICAgICB0aGlzLl9zZXRXcmFwcGVyKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAidXBkYXRlRW5kaW5nUG9pbnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUVuZGluZ1BvaW50KHgsIHkpIHsKICAgICAgdGhpcy5lbmRpbmdQb2ludC54ID0geDsKICAgICAgdGhpcy5lbmRpbmdQb2ludC55ID0geTsKICAgICAgdGhpcy5jb25uZWN0b3Iuc2V0QXR0cmlidXRlKCJ4MiIsIHgpOwogICAgICB0aGlzLmNvbm5lY3Rvci5zZXRBdHRyaWJ1dGUoInkyIiwgeSk7CgogICAgICB0aGlzLl9zZXRXcmFwcGVyKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAidXBkYXRlRW5kaW5nUG9pbnRBdXRvIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVFbmRpbmdQb2ludEF1dG8oKSB7CiAgICAgIHRoaXMudXBkYXRlRW5kaW5nUG9pbnQodGhpcy50by5jZW50ZXIueCArIHRoaXMudG8ud2lkdGggLyAyICogMTYsIHRoaXMudG8uY2VudGVyLnkpOwogICAgfQogIH0sIHsKICAgIGtleTogInNldFRvQ29tcG9uZW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRUb0NvbXBvbmVudCh0b0NvbXBvbmVudCkgewogICAgICB0aGlzLnRvID0gdG9Db21wb25lbnQ7CiAgICAgIHZhciB0b1BvaW50WCA9IHRvQ29tcG9uZW50LmNlbnRlci54ICsgdG9Db21wb25lbnQud2lkdGggLyAyICogMTY7CiAgICAgIHZhciB0b1BvaW50WSA9IHRvQ29tcG9uZW50LmNlbnRlci55OwogICAgICB0aGlzLnVwZGF0ZUVuZGluZ1BvaW50KHRvUG9pbnRYLCB0b1BvaW50WSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVtb3ZlU2VsZiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlU2VsZigpIHsKICAgICAgdGhpcy5jb25uZWN0b3IucmVtb3ZlKCk7CiAgICAgIGlmICh0aGlzLnRvICE9IG51bGwpIHRoaXMudG8uZnJvbUNvbm5lY3Rpb25Qb2ludC5mcm9tQ29tcG9uZW50cy5kZWxldGUodGhpcy5mcm9tLmNvZGUpOwogICAgICB0aGlzLmZyb20udG9Db25uZWN0aW9uUG9pbnQub3V0Q29ubmVjdG9ycy5kZWxldGUodGhpcy5jb2RlKTsKICAgICAgaWYgKHRoaXMud3JhcHBlciAhPSBudWxsKSB0aGlzLndyYXBwZXIucmVtb3ZlKCk7CiAgICB9IC8vZm9yIGludGVyZmFjZSBjb21wYXRpYmxpdHkgcmVnYXJkcwoKICB9LCB7CiAgICBrZXk6ICJyZW1vdmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZSgpIHsKICAgICAgdGhpcy5yZW1vdmVTZWxmKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiX2dlbmVyYXRlQ29kZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX2dlbmVyYXRlQ29kZSgpIHsKICAgICAgcmV0dXJuIENvbm5lY3Rvci5jb2RlQ291bnQrKzsKICAgIH0gLy9jb25uZWN0b3Igd3JhcHBlcgoKICB9LCB7CiAgICBrZXk6ICJjcmVhdGVDb25uZWN0b3JXcmFwcGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVDb25uZWN0b3JXcmFwcGVyKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGJvYXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJvYXJkIik7CiAgICAgIHZhciBzdmducyA9ICJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI7IC8vdmFyaWFibGUgZm9yIHRoZSBuYW1lc3BhY2UKCiAgICAgIHZhciBzZWxlY3Rpb25XcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z25zLCAiZWxsaXBzZSIpOwogICAgICB0aGlzLndyYXBwZXIgPSBzZWxlY3Rpb25XcmFwcGVyOwoKICAgICAgdGhpcy5fc2V0V3JhcHBlcigpOwoKICAgICAgdGhpcy53cmFwcGVyLm9ubW91c2Vkb3duID0gZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLnNldFNlbGZBc1NlbGVjdGVkKCk7CgogICAgICAgIF90aGlzLm1vdXNlRG93biA9IHRydWU7CiAgICAgIH07CgogICAgICB0aGlzLndyYXBwZXIub25tb3VzZXVwID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBfdGhpcy5tb3VzZURvd24gPSBmYWxzZTsKICAgICAgfTsKCiAgICAgIGJvYXJkLmFwcGVuZENoaWxkKHNlbGVjdGlvbldyYXBwZXIpOwogICAgfQogIH0sIHsKICAgIGtleTogIl9zZXRXcmFwcGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0V3JhcHBlcigpIHsKICAgICAgaWYgKHRoaXMud3JhcHBlciA9PSBudWxsKSByZXR1cm47CiAgICAgIHZhciBsaW5lTGVuZ3RoID0gTWF0aC5zcXJ0KE1hdGgucG93KHRoaXMuZW5kaW5nUG9pbnQueCAtIHRoaXMuc3RhcnRpbmdQb2ludC54LCAyKSArIE1hdGgucG93KHRoaXMuZW5kaW5nUG9pbnQueSAtIHRoaXMuc3RhcnRpbmdQb2ludC55LCAyKSk7CiAgICAgIHZhciBjZW50ZXJYID0gKHRoaXMuc3RhcnRpbmdQb2ludC54ICsgdGhpcy5lbmRpbmdQb2ludC54KSAvIDI7CiAgICAgIHZhciBjZW50ZXJZID0gKHRoaXMuc3RhcnRpbmdQb2ludC55ICsgdGhpcy5lbmRpbmdQb2ludC55KSAvIDI7CiAgICAgIHZhciB3aWR0aCA9IHRoaXMuZW5kaW5nUG9pbnQueCAtIHRoaXMuc3RhcnRpbmdQb2ludC54OwogICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5lbmRpbmdQb2ludC55IC0gdGhpcy5zdGFydGluZ1BvaW50Lnk7CiAgICAgIHZhciByb3RhdGlvbkFuZ2xlID0gTWF0aC5hdGFuKGhlaWdodCAvIHdpZHRoKSAqICgxODAgLyBNYXRoLlBJKTsKICAgICAgdmFyIHNlbGVjdG9yUmFkaXVzVyA9IE1hdGguYWJzKGxpbmVMZW5ndGggLyAyIC0gNSk7CiAgICAgIHZhciBzZWxlY3RvclJhZGl1c0ggPSBNYXRoLmFicyg1KTsKICAgICAgZ3NhcC5zZXQodGhpcy53cmFwcGVyLCB7CiAgICAgICAgYXR0cjogewogICAgICAgICAgY3g6IGNlbnRlclgsCiAgICAgICAgICBjeTogY2VudGVyWSwKICAgICAgICAgIHJ4OiBzZWxlY3RvclJhZGl1c1csCiAgICAgICAgICByeTogc2VsZWN0b3JSYWRpdXNILAogICAgICAgICAgZmlsbDogJ3RyYW5zcGFyZW50JywKICAgICAgICAgIHRyYW5zZm9ybTogInJvdGF0ZSgiLmNvbmNhdChyb3RhdGlvbkFuZ2xlLCAiICIpLmNvbmNhdChjZW50ZXJYLCAiICIpLmNvbmNhdChjZW50ZXJZLCAiKSIpCiAgICAgICAgfQogICAgICB9KTsKICAgIH0gLy9zZWxlY3Rpb24KCiAgfSwgewogICAga2V5OiAic2V0U2VsZkFzU2VsZWN0ZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldFNlbGZBc1NlbGVjdGVkKCkgewogICAgICB2YXIgcHJldlNlbGVjdGVkQ29tcG9uZW50ID0gc3RvcmUuZ2V0dGVycy5nZXRDdXJyU2VsZWN0ZWRDb21wb25lbnQ7CgogICAgICBpZiAocHJldlNlbGVjdGVkQ29tcG9uZW50ICE9IG51bGwpIHsKICAgICAgICBwcmV2U2VsZWN0ZWRDb21wb25lbnQudW5zZWxlY3RTZWxmKCk7CiAgICAgIH0KCiAgICAgIHN0b3JlLmNvbW1pdCgnc2V0Q3VyclNlbGVjdGVkQ29tcG9uZW50JywgdGhpcyk7CgogICAgICB0aGlzLl9zZWxlY3RTZWxmKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiX3NlbGVjdFNlbGYiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9zZWxlY3RTZWxmKCkgewogICAgICB0aGlzLmNvbm5lY3Rvci5zZXRBdHRyaWJ1dGUoInN0cm9rZSIsICIjRTc0QzNDIik7CiAgICB9CiAgfSwgewogICAga2V5OiAidW5zZWxlY3RTZWxmIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB1bnNlbGVjdFNlbGYoKSB7CiAgICAgIHRoaXMuY29ubmVjdG9yLnNldEF0dHJpYnV0ZSgic3Ryb2tlIiwgImJsYWNrIik7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gQ29ubmVjdG9yOwp9KCk7CgpfZGVmaW5lUHJvcGVydHkoQ29ubmVjdG9yLCAiY29kZUNvdW50IiwgMSk7"},{"version":3,"sources":["/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/src/assemblyLineComponents/connector.js"],"names":["gsap","store","Connector","fromComponent","code","_generateCode","connector","wrapper","startingPoint","x","y","endingPoint","from","to","mouseDown","_create","board","document","getElementById","svgns","newConnector","createElementNS","center","width","set","attr","x1","y1","x2","y2","stroke","css","pointerEvents","appendChild","setAttribute","_setWrapper","updateEndingPoint","toComponent","toPointX","toPointY","remove","fromConnectionPoint","fromComponents","delete","toConnectionPoint","outConnectors","removeSelf","codeCount","selectionWrapper","onmousedown","setSelfAsSelected","onmouseup","lineLength","Math","sqrt","pow","centerX","centerY","height","rotationAngle","atan","PI","selectorRadiusW","abs","selectorRadiusH","cx","cy","rx","ry","fill","transform","prevSelectedComponent","getters","getCurrSelectedComponent","unselectSelf","commit","_selectSelf"],"mappings":"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","sourcesContent":["import gsap from 'gsap';\nimport store from '../store';\n\nexport class Connector {\n    static codeCount = 1;\n\n    constructor(fromComponent) {\n      this.code = this._generateCode();\n      this.connector = null;\n      this.wrapper = null;\n\n      this.startingPoint = { x: 0, y: 0};\n      this.endingPoint = { x: 0, y: 0};\n\n      this.from = fromComponent;\n      this.to = null;\n\n      this.mouseDown = false;\n\n      this._create();\n    }\n\n    _create() {    \n      const board = document.getElementById(\"board\");\n      const svgns = \"http://www.w3.org/2000/svg\"; //variable for the namespace\n      const newConnector = document.createElementNS(svgns, \"line\");\n\n      this.startingPoint.x = this.from.center.x - ((this.from.width / 2)*16);\n      this.startingPoint.y = this.from.center.y;\n      this.endingPoint.x = this.from.center.x - ((this.from.width / 2)*16);\n      this.endingPoint.y = this.from.center.y;\n\n      gsap.set(newConnector, {\n        attr: {\n          x1: this.startingPoint.x, y1: this.startingPoint.y, //startint point\n          x2: this.endingPoint.x, y2: this.endingPoint.y, //ending point\n          stroke: \"black\", 'stroke-width': \"2px\",\n        },\n        css: {\n          pointerEvents: \"none\",\n        }\n      });\n      board.appendChild(newConnector);\n\n      this.connector = newConnector;\n    }\n\n    updateStartingPoint() {\n      this.startingPoint.x = this.from.center.x - ((this.from.width / 2)*16);\n      this.startingPoint.y = this.from.center.y;\n\n      this.connector.setAttribute(\"x1\", this.startingPoint.x);\n      this.connector.setAttribute(\"y1\", this.startingPoint.y);\n\n      this._setWrapper();\n    }\n\n    updateEndingPoint(x, y) {\n      this.endingPoint.x = x;\n      this.endingPoint.y = y;\n      \n      this.connector.setAttribute(\"x2\", x);\n      this.connector.setAttribute(\"y2\", y);\n\n      this._setWrapper();\n    }\n\n    updateEndingPointAuto() {\n      this.updateEndingPoint(this.to.center.x + ((this.to.width / 2)*16), this.to.center.y);\n    }\n\n    setToComponent(toComponent) {\n      this.to = toComponent;\n      const toPointX = toComponent.center.x + ((toComponent.width / 2)*16);\n      const toPointY = toComponent.center.y;\n      this.updateEndingPoint(toPointX, toPointY);\n    }\n\n    removeSelf(){\n      this.connector.remove();\n      if(this.to != null) this.to.fromConnectionPoint.fromComponents.delete(this.from.code);\n      this.from.toConnectionPoint.outConnectors.delete(this.code);\n      if(this.wrapper != null) this.wrapper.remove();\n    }\n\n    //for interface compatiblity regards\n    remove() {\n      this.removeSelf();\n    }\n\n    _generateCode() {\n      return Connector.codeCount++;\n    }\n\n    //connector wrapper\n    createConnectorWrapper(){\n      const board = document.getElementById(\"board\");\n      const svgns = \"http://www.w3.org/2000/svg\"; //variable for the namespace\n      const selectionWrapper = document.createElementNS(svgns, \"ellipse\");\n      this.wrapper = selectionWrapper;\n\n      this._setWrapper();\n\n      this.wrapper.onmousedown = () => {\n        this.setSelfAsSelected();\n        this.mouseDown = true;\n      }\n\n      this.wrapper.onmouseup = () => this.mouseDown = false;\n      \n      board.appendChild(selectionWrapper);\n    }\n\n    _setWrapper(){\n      if(this.wrapper == null) return;\n      \n      const lineLength = Math.sqrt(Math.pow((this.endingPoint.x - this.startingPoint.x), 2) +\n      Math.pow((this.endingPoint.y - this.startingPoint.y), 2));\n  \n      const centerX = (this.startingPoint.x + this.endingPoint.x) /2;\n      const centerY = (this.startingPoint.y + this.endingPoint.y) /2;\n  \n      const width = this.endingPoint.x - this.startingPoint.x;\n      const height = this.endingPoint.y - this.startingPoint.y;\n\n      const rotationAngle = Math.atan(height/ width) *(180/ Math.PI);\n  \n      const selectorRadiusW = Math.abs((lineLength/2) - 5);\n      const selectorRadiusH = Math.abs(5);\n  \n      gsap.set(this.wrapper, {\n        attr: {\n          cx: centerX, cy: centerY, rx: selectorRadiusW, ry: selectorRadiusH,\n          fill: 'transparent',\n          transform: `rotate(${rotationAngle} ${centerX} ${centerY})`,\n        }\n      });\n    }\n\n    //selection\n    setSelfAsSelected() {\n      const prevSelectedComponent = store.getters.getCurrSelectedComponent;\n      if(prevSelectedComponent != null) {\n        prevSelectedComponent.unselectSelf();\n      }\n  \n      store.commit('setCurrSelectedComponent', this);\n      this._selectSelf();\n    }\n  \n    _selectSelf() {\n      this.connector.setAttribute(\"stroke\", \"#E74C3C\");\n    }\n\n    unselectSelf() {\n      this.connector.setAttribute(\"stroke\", \"black\");\n    }\n}\n\n\n\n\n\n\n\n\n\n\n\n\n"]}]}