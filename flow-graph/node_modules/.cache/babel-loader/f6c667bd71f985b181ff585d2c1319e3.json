{"remainingRequest":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/node_modules/babel-loader/lib/index.js!/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/node_modules/eslint-loader/index.js??ref--13-0!/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/src/graphComponents/connectionPoints/toConnectionPoint.js","dependencies":[{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/src/graphComponents/connectionPoints/toConnectionPoint.js","mtime":1619017806506},{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy9hbGloYXNzYW4vVGhlX0xPTC9Qcm9qZWN0cy9jb2xsYWdlX3JlbGF0ZWQvU2Vjb25kWWVhci9Db250cm9sX1N5c3RlbXMvc2lnbmFsLWZsb3ctZ3JhcGgtc29sdmVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvYWxpaGFzc2FuL1RoZV9MT0wvUHJvamVjdHMvY29sbGFnZV9yZWxhdGVkL1NlY29uZFllYXIvQ29udHJvbF9TeXN0ZW1zL3NpZ25hbC1mbG93LWdyYXBoLXNvbHZlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9Vc2Vycy9hbGloYXNzYW4vVGhlX0xPTC9Qcm9qZWN0cy9jb2xsYWdlX3JlbGF0ZWQvU2Vjb25kWWVhci9Db250cm9sX1N5c3RlbXMvc2lnbmFsLWZsb3ctZ3JhcGgtc29sdmVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiL1VzZXJzL2FsaWhhc3Nhbi9UaGVfTE9ML1Byb2plY3RzL2NvbGxhZ2VfcmVsYXRlZC9TZWNvbmRZZWFyL0NvbnRyb2xfU3lzdGVtcy9zaWduYWwtZmxvdy1ncmFwaC1zb2x2ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICIvVXNlcnMvYWxpaGFzc2FuL1RoZV9MT0wvUHJvamVjdHMvY29sbGFnZV9yZWxhdGVkL1NlY29uZFllYXIvQ29udHJvbF9TeXN0ZW1zL3NpZ25hbC1mbG93LWdyYXBoLXNvbHZlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlU3VwZXIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCB7IENvbm5lY3Rpb25Qb2ludCB9IGZyb20gIi4vY29ubmVjdGlvblBvaW50LmpzIjsKaW1wb3J0IHsgQnJhbmNoIH0gZnJvbSAiLi4vYnJhbmNoLmpzIjsKaW1wb3J0IHN0b3JlIGZyb20gIi4uLy4uL3N0b3JlIjsKZXhwb3J0IHZhciBUb0Nvbm5lY3Rpb25Qb2ludCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0Nvbm5lY3Rpb25Qb2ludCkgewogIF9pbmhlcml0cyhUb0Nvbm5lY3Rpb25Qb2ludCwgX0Nvbm5lY3Rpb25Qb2ludCk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoVG9Db25uZWN0aW9uUG9pbnQpOwoKICBmdW5jdGlvbiBUb0Nvbm5lY3Rpb25Qb2ludChjb21wb25lbnQpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVG9Db25uZWN0aW9uUG9pbnQpOwoKICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29tcG9uZW50KTsKICAgIF90aGlzLnRlbXBDb25uZWN0b3IgPSBudWxsOwogICAgX3RoaXMub3V0Q29ubmVjdG9ycyA9IG5ldyBNYXAoKTsKCiAgICBfdGhpcy5fY3JlYXRlQ29ubmVjdGlvbldyYXBwZXIoY29tcG9uZW50LmNlbnRlci55ICsgY29tcG9uZW50LndpZHRoIC8gMiAqIDE2KTsKCiAgICBfdGhpcy5fY3JlYXRlQ29ubmVjdGlvblBvaW50KGNvbXBvbmVudC5jZW50ZXIueCArIGNvbXBvbmVudC53aWR0aCAvIDIgKiAxNik7CgogICAgX3RoaXMuX2FkZEFjdGlvbnMoKTsKCiAgICByZXR1cm4gX3RoaXM7CiAgfSAvL3JlbW92ZSBzZWxmIGFuZCB0aGUgY29ubmVjdG9ycwoKCiAgX2NyZWF0ZUNsYXNzKFRvQ29ubmVjdGlvblBvaW50LCBbewogICAga2V5OiAiZGVsZXRlQWxsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkZWxldGVBbGwoKSB7CiAgICAgIHRoaXMucmVtb3ZlU2VsZigpOwoKICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMub3V0Q29ubmVjdG9ycy52YWx1ZXMoKSksCiAgICAgICAgICBfc3RlcDsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBjb25uZWN0b3IgPSBfc3RlcC52YWx1ZTsKICAgICAgICAgIGNvbm5lY3Rvci5yZW1vdmVTZWxmKCk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KCiAgICAgIHRoaXMub3V0Q29ubmVjdG9ycy5jbGVhcigpOwogICAgfQogIH0sIHsKICAgIGtleTogInVwZGF0ZVBvcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlUG9zKCkgewogICAgICB0aGlzLmNvbm5lY3Rpb25Qb2ludC5zZXRBdHRyaWJ1dGUoImN4IiwgdGhpcy5jb21wb25lbnRBdHRhY2hlZC5jZW50ZXIueCArIHRoaXMuY29tcG9uZW50QXR0YWNoZWQud2lkdGggLyAyICogMTYpOwogICAgICB0aGlzLmNvbm5lY3Rpb25Qb2ludC5zZXRBdHRyaWJ1dGUoImN5IiwgdGhpcy5jb21wb25lbnRBdHRhY2hlZC5jZW50ZXIueSk7CiAgICAgIHRoaXMuY29ubmVjdGlvblBvaW50V3JhcHBlci5zZXRBdHRyaWJ1dGUoImN4IiwgdGhpcy5jb21wb25lbnRBdHRhY2hlZC5jZW50ZXIueCArIHRoaXMuY29tcG9uZW50QXR0YWNoZWQud2lkdGggLyAyICogMTYpOwogICAgICB0aGlzLmNvbm5lY3Rpb25Qb2ludFdyYXBwZXIuc2V0QXR0cmlidXRlKCJjeSIsIHRoaXMuY29tcG9uZW50QXR0YWNoZWQuY2VudGVyLnkpOwogICAgfQogIH0sIHsKICAgIGtleTogIl9hZGRBY3Rpb25zIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfYWRkQWN0aW9ucygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLmNvbm5lY3Rpb25Qb2ludC5vbm1vdXNlZG93biA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuX2FkZENvbm5lY3RvcigpOwogICAgICB9OwogICAgfQogIH0sIHsKICAgIGtleTogInJlc2V0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZXNldCgpIHsKICAgICAgdGhpcy5yZW1vdmVTZWxmKCk7CgogICAgICB0aGlzLl9jcmVhdGVDb25uZWN0aW9uV3JhcHBlcih0aGlzLmNvbXBvbmVudEF0dGFjaGVkLmNlbnRlci55ICsgdGhpcy5jb21wb25lbnRBdHRhY2hlZC53aWR0aCAvIDIgKiAxNik7CgogICAgICB0aGlzLl9jcmVhdGVDb25uZWN0aW9uUG9pbnQodGhpcy5jb21wb25lbnRBdHRhY2hlZC5jZW50ZXIueCArIHRoaXMuY29tcG9uZW50QXR0YWNoZWQud2lkdGggLyAyICogMTYpOwoKICAgICAgdGhpcy5fYWRkQWN0aW9ucygpOwogICAgfSAvL2luaXRpYWxpemluZyBjb25uZWN0b3IKCiAgfSwgewogICAga2V5OiAiX2FkZENvbm5lY3RvciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX2FkZENvbm5lY3RvcigpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgaGVhZGVyT2Zmc2V0SGVpZ2h0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImhlYWRlciIpLm9mZnNldEhlaWdodDsKICAgICAgdGhpcy50ZW1wQ29ubmVjdG9yID0gbmV3IEJyYW5jaCh0aGlzLmNvbXBvbmVudEF0dGFjaGVkKTsKICAgICAgc3RvcmUuZGlzcGF0Y2goJ3NldEZyb21Db21wb25lbnQnLCB0aGlzLmNvbXBvbmVudEF0dGFjaGVkKTsKICAgICAgdmFyIHRyYWNrZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKCFzdG9yZS5nZXR0ZXJzLmlzQm9hcmRNb3VzZURvd24pIHsKICAgICAgICAgIGlmIChzdG9yZS5nZXR0ZXJzLmdldFRvQ29tcG9uZW50ID09IG51bGwpIHsKICAgICAgICAgICAgX3RoaXMzLl9yZW1vdmVDb25uZWN0b3IoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzMy5faG9va0Nvbm5lY3RvcigpOwoKICAgICAgICAgICAgX3RoaXMzLl9zZXRHYWluKCk7CiAgICAgICAgICB9CgogICAgICAgICAgY2xlYXJJbnRlcnZhbCh0cmFja2VyKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIHVwZGF0ZWRYID0gd2luZG93Lm1vdXNlWDsKICAgICAgICAgIHZhciB1cGRhdGVkWSA9IHdpbmRvdy5tb3VzZVkgLSBoZWFkZXJPZmZzZXRIZWlnaHQ7CgogICAgICAgICAgX3RoaXMzLnRlbXBDb25uZWN0b3IudXBkYXRlRW5kaW5nUG9pbnQodXBkYXRlZFgsIHVwZGF0ZWRZKTsKICAgICAgICB9CiAgICAgIH0sIDEwKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJfcmVtb3ZlQ29ubmVjdG9yIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVtb3ZlQ29ubmVjdG9yKCkgewogICAgICB0aGlzLnRlbXBDb25uZWN0b3IucmVtb3ZlU2VsZigpOwogICAgfQogIH0sIHsKICAgIGtleTogIl9ob29rQ29ubmVjdG9yIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfaG9va0Nvbm5lY3RvcigpIHsKICAgICAgdmFyIHRvQ29tcG9uZW50ID0gc3RvcmUuZ2V0dGVycy5nZXRUb0NvbXBvbmVudDsKCiAgICAgIGlmICh0b0NvbXBvbmVudC5mcm9tQ29ubmVjdGlvblBvaW50Lmhhc0Zyb21Db21wb25lbnQodGhpcy5jb21wb25lbnRBdHRhY2hlZC5jb2RlKSkgewogICAgICAgIHRoaXMuX3JlbW92ZUNvbm5lY3RvcigpOwoKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMudGVtcENvbm5lY3Rvci5zZXRUb0NvbXBvbmVudCh0b0NvbXBvbmVudCk7CiAgICAgIHRvQ29tcG9uZW50LmZyb21Db25uZWN0aW9uUG9pbnQuYWRkRnJvbUNvbXBvbmVudCh0aGlzLmNvbXBvbmVudEF0dGFjaGVkKTsKICAgICAgdG9Db21wb25lbnQuZnJvbUNvbm5lY3Rpb25Qb2ludC5hZGRJbkNvbm5lY3Rvcih0aGlzLnRlbXBDb25uZWN0b3IpOwogICAgICB0aGlzLm91dENvbm5lY3RvcnMuc2V0KHRoaXMudGVtcENvbm5lY3Rvci5jb2RlLCB0aGlzLnRlbXBDb25uZWN0b3IpOwogICAgICB0aGlzLmNvbXBvbmVudEF0dGFjaGVkLnJlc2V0KCk7CiAgICAgIHRvQ29tcG9uZW50LnJlc2V0KCk7CiAgICAgIHN0b3JlLmRpc3BhdGNoKCdyZXNldEZyb21Db21wb25lbnQnKTsKICAgICAgc3RvcmUuZGlzcGF0Y2goJ3Jlc2V0VG9Db21wb25lbnQnKTsKCiAgICAgIHRoaXMuX3Jlc2V0QWxsTWFjaGluZXMoKTsKICAgIH0gLy9yZXNldCAgbWFjaGluZQoKICB9LCB7CiAgICBrZXk6ICJfcmVzZXRBbGxNYWNoaW5lcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX3Jlc2V0QWxsTWFjaGluZXMoKSB7CiAgICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoc3RvcmUuZ2V0dGVycy5ub2Rlcy52YWx1ZXMoKSksCiAgICAgICAgICBfc3RlcDI7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgbm9kZSA9IF9zdGVwMi52YWx1ZTsKICAgICAgICAgIG5vZGUucmVzZXRDb2xvcigpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yMi5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yMi5mKCk7CiAgICAgIH0KICAgIH0gLy9nZXQgYnJhbmNoR2FpbgoKICB9LCB7CiAgICBrZXk6ICJfc2V0R2FpbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX3NldEdhaW4oKSB7CiAgICAgIHZhciBnYWluID0gMTsKCiAgICAgIGRvIHsKICAgICAgICBnYWluID0gcGFyc2VJbnQod2luZG93LnByb21wdCgiYnJhbmNoIGdhaW4gPSAiLCAxMCkpOwogICAgICB9IHdoaWxlIChpc05hTihnYWluKSB8fCBnYWluID09IDApOwoKICAgICAgdGhpcy50ZW1wQ29ubmVjdG9yLmdhaW4gPSBnYWluOwogICAgICB0aGlzLnRlbXBDb25uZWN0b3IuYWRkR2FpbkxhYmVsKCk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gVG9Db25uZWN0aW9uUG9pbnQ7Cn0oQ29ubmVjdGlvblBvaW50KTs="},{"version":3,"sources":["/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/src/graphComponents/connectionPoints/toConnectionPoint.js"],"names":["ConnectionPoint","Branch","store","ToConnectionPoint","component","tempConnector","outConnectors","Map","_createConnectionWrapper","center","y","width","_createConnectionPoint","x","_addActions","removeSelf","values","connector","clear","connectionPoint","setAttribute","componentAttached","connectionPointWrapper","onmousedown","_addConnector","headerOffsetHeight","document","getElementById","offsetHeight","dispatch","tracker","setInterval","getters","isBoardMouseDown","getToComponent","_removeConnector","_hookConnector","_setGain","clearInterval","updatedX","window","mouseX","updatedY","mouseY","updateEndingPoint","toComponent","fromConnectionPoint","hasFromComponent","code","setToComponent","addFromComponent","addInConnector","set","reset","_resetAllMachines","nodes","node","resetColor","gain","parseInt","prompt","isNaN","addGainLabel"],"mappings":"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","sourcesContent":["import { ConnectionPoint } from \"./connectionPoint.js\";\nimport { Branch } from \"../branch.js\";\nimport store from \"../../store\";\n\nexport class ToConnectionPoint extends ConnectionPoint{\n  constructor(component) {\n    super(component);\n    this.tempConnector = null;\n    this.outConnectors = new Map();\n\n    this._createConnectionWrapper(component.center.y + ((component.width / 2)*16));\n    this._createConnectionPoint(component.center.x + ((component.width / 2)*16));\n    this._addActions();\n  }\n\n  //remove self and the connectors\n  deleteAll() {\n    this.removeSelf();\n    for(let connector of this.outConnectors.values()) {\n      connector.removeSelf();\n    }\n    this.outConnectors.clear();\n  }\n\n  updatePos() {\n    this.connectionPoint.setAttribute(\"cx\", this.componentAttached.center.x + ((this.componentAttached.width / 2)*16));\n    this.connectionPoint.setAttribute(\"cy\", this.componentAttached.center.y);\n\n    this.connectionPointWrapper.setAttribute(\"cx\", this.componentAttached.center.x + ((this.componentAttached.width / 2)*16));\n    this.connectionPointWrapper.setAttribute(\"cy\", this.componentAttached.center.y);\n  }\n\n  _addActions() {\n    this.connectionPoint.onmousedown = () => {\n      this._addConnector();\n    }\n  }\n\n  reset() {\n    this.removeSelf();\n    this._createConnectionWrapper(this.componentAttached.center.y + ((this.componentAttached.width / 2)*16));\n    this._createConnectionPoint(this.componentAttached.center.x + ((this.componentAttached.width / 2)*16));\n    this._addActions();\n  }\n\n  //initializing connector\n  _addConnector() {\n    const headerOffsetHeight = document.getElementById(\"header\").offsetHeight;\n    this.tempConnector = new Branch(this.componentAttached);\n    store.dispatch('setFromComponent', this.componentAttached);\n    \n    const tracker = setInterval(() => {\n      if(!store.getters.isBoardMouseDown) {\n        if(store.getters.getToComponent == null){\n          this._removeConnector();\n        }\n        else{\n          this._hookConnector();\n          this._setGain();\n        }\n        clearInterval(tracker);\n      }\n      else {\n        const updatedX = window.mouseX;\n        const updatedY = window.mouseY - headerOffsetHeight;\n        this.tempConnector.updateEndingPoint(updatedX, updatedY);\n      }\n    }, 10); \n  }\n\n  _removeConnector() {\n    this.tempConnector.removeSelf();\n  }\n\n  _hookConnector() {\n    const toComponent = store.getters.getToComponent;\n\n    if(toComponent.fromConnectionPoint.hasFromComponent(this.componentAttached.code)){\n      this._removeConnector();\n      return;\n    }\n\n    this.tempConnector.setToComponent(toComponent);\n\n    toComponent.fromConnectionPoint.addFromComponent(this.componentAttached);\n    toComponent.fromConnectionPoint.addInConnector(this.tempConnector);\n    \n    this.outConnectors.set(this.tempConnector.code, this.tempConnector);\n\n    this.componentAttached.reset();\n    toComponent.reset();\n\n    store.dispatch('resetFromComponent');\n    store.dispatch('resetToComponent');\n\n    this._resetAllMachines();\n  }\n\n  //reset  machine\n  _resetAllMachines() {\n    for(let node of store.getters.nodes.values()){\n      node.resetColor();\n    }\n  }\n  //get branchGain\n  _setGain() {\n    let gain = 1;\n    do{\n      gain = parseInt(window.prompt(\"branch gain = \", 10));\n    } while( isNaN(gain) || gain == 0 );\n    this.tempConnector.gain = gain;\n    this.tempConnector.addGainLabel();\n  }\n}"]}]}