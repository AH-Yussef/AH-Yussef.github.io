{"remainingRequest":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/node_modules/babel-loader/lib/index.js!/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/node_modules/eslint-loader/index.js??ref--13-0!/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/src/assemblyLineComponents/machine.js","dependencies":[{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/src/assemblyLineComponents/machine.js","mtime":1618699275797},{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy9hbGloYXNzYW4vVGhlX0xPTC9Qcm9qZWN0cy9jb2xsYWdlX3JlbGF0ZWQvU2Vjb25kWWVhci9Db250cm9sX1N5c3RlbXMvc2lnbmFsLWZsb3ctZ3JhcGgtc29sdmVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvYWxpaGFzc2FuL1RoZV9MT0wvUHJvamVjdHMvY29sbGFnZV9yZWxhdGVkL1NlY29uZFllYXIvQ29udHJvbF9TeXN0ZW1zL3NpZ25hbC1mbG93LWdyYXBoLXNvbHZlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9Vc2Vycy9hbGloYXNzYW4vVGhlX0xPTC9Qcm9qZWN0cy9jb2xsYWdlX3JlbGF0ZWQvU2Vjb25kWWVhci9Db250cm9sX1N5c3RlbXMvc2lnbmFsLWZsb3ctZ3JhcGgtc29sdmVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICIvVXNlcnMvYWxpaGFzc2FuL1RoZV9MT0wvUHJvamVjdHMvY29sbGFnZV9yZWxhdGVkL1NlY29uZFllYXIvQ29udHJvbF9TeXN0ZW1zL3NpZ25hbC1mbG93LWdyYXBoLXNvbHZlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiL1VzZXJzL2FsaWhhc3Nhbi9UaGVfTE9ML1Byb2plY3RzL2NvbGxhZ2VfcmVsYXRlZC9TZWNvbmRZZWFyL0NvbnRyb2xfU3lzdGVtcy9zaWduYWwtZmxvdy1ncmFwaC1zb2x2ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICIvVXNlcnMvYWxpaGFzc2FuL1RoZV9MT0wvUHJvamVjdHMvY29sbGFnZV9yZWxhdGVkL1NlY29uZFllYXIvQ29udHJvbF9TeXN0ZW1zL3NpZ25hbC1mbG93LWdyYXBoLXNvbHZlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlU3VwZXIiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9Vc2Vycy9hbGloYXNzYW4vVGhlX0xPTC9Qcm9qZWN0cy9jb2xsYWdlX3JlbGF0ZWQvU2Vjb25kWWVhci9Db250cm9sX1N5c3RlbXMvc2lnbmFsLWZsb3ctZ3JhcGgtc29sdmVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0IGdzYXAgZnJvbSAnZ3NhcCc7CmltcG9ydCBzdG9yZSBmcm9tICcuLi9zdG9yZSc7CmltcG9ydCB7IEFzc2VtYmx5TGluZUNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50LmpzJzsKZXhwb3J0IHZhciBNYWNoaW5lID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQXNzZW1ibHlMaW5lQ29tcG9uZW4pIHsKICBfaW5oZXJpdHMoTWFjaGluZSwgX0Fzc2VtYmx5TGluZUNvbXBvbmVuKTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihNYWNoaW5lKTsKCiAgZnVuY3Rpb24gTWFjaGluZSh4LCB5KSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1hY2hpbmUpOwoKICAgIF90aGlzLmNvbXBvbmVudCA9IG51bGw7CiAgICBfdGhpcy5jb21wb25lbnRMYWJlbCA9IG51bGwsIF90aGlzLmNlbnRlciA9IHsKICAgICAgeDogeCwKICAgICAgeTogeQogICAgfTsKICAgIF90aGlzLmNvZGUgPSBfdGhpcy5fZ2VuZXJhdGVDb2RlKCk7CiAgICBfdGhpcy5tb3VzZURvd24gPSBmYWxzZTsKICAgIF90aGlzLmlzTWFjaGluZSA9IHRydWU7CiAgICBfdGhpcy5mcm9tQ29ubmVjdGlvblBvaW50ID0gbnVsbDsKICAgIF90aGlzLnRvQ29ubmVjdGlvblBvaW50ID0gbnVsbDsKICAgIF90aGlzLmZpbGxDb2xvciA9ICJibGFjayI7CgogICAgX3RoaXMuX2NyZWF0ZSgpOwoKICAgIF90aGlzLl9hZGRFdmVudExpc3RlbmVycygpOwoKICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihfdGhpcyk7CiAgfSAvLyBjcmVhdGlvbiBvZiB0aGUgbm9kZQoKCiAgX2NyZWF0ZUNsYXNzKE1hY2hpbmUsIFt7CiAgICBrZXk6ICJfY3JlYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfY3JlYXRlKCkgewogICAgICB2YXIgYm9hcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYm9hcmQiKTsKICAgICAgdmFyIHN2Z25zID0gImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIjsgLy92YXJpYWJsZSBmb3IgdGhlIG5hbWVzcGFjZQoKICAgICAgdmFyIG5ld01hY2hpbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnbnMsICJjaXJjbGUiKTsKICAgICAgdGhpcy53aWR0aCA9IDMuMjsKICAgICAgZ3NhcC5zZXQobmV3TWFjaGluZSwgewogICAgICAgIGF0dHI6IHsKICAgICAgICAgIGN4OiB0aGlzLmNlbnRlci54LAogICAgICAgICAgY3k6IHRoaXMuY2VudGVyLnksCiAgICAgICAgICByOiAiMS42cmVtIiwKICAgICAgICAgIGZpbGw6IHRoaXMuZmlsbENvbG9yLAogICAgICAgICAgc3Ryb2tlOiAiYmxhY2siLAogICAgICAgICAgJ3N0cm9rZS13aWR0aCc6ICIycHgiCiAgICAgICAgfQogICAgICB9KTsKICAgICAgdmFyIG5ld01hY2hpbmVMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmducywgInRleHQiKTsKICAgICAgbmV3TWFjaGluZUxhYmVsLnRleHRDb250ZW50ID0gIk0iLmNvbmNhdCh0aGlzLmNvZGUpOwogICAgICBnc2FwLnNldChuZXdNYWNoaW5lTGFiZWwsIHsKICAgICAgICBhdHRyOiB7CiAgICAgICAgICB4OiB0aGlzLmNlbnRlci54LAogICAgICAgICAgeTogdGhpcy5jZW50ZXIueSwKICAgICAgICAgICJ0ZXh0LWFuY2hvciI6ICJtaWRkbGUiLAogICAgICAgICAgZmlsbDogIndoaXRlIiwKICAgICAgICAgICJmb250LXNpemUiOiAibWVkaXVtIiwKICAgICAgICAgIGR5OiAiMC40cmVtIgogICAgICAgIH0sCiAgICAgICAgY3NzOiB7CiAgICAgICAgICB1c2VyU2VsZWN0OiAnbm9uZScsCiAgICAgICAgICBwb2ludGVyRXZlbnRzOiAnbm9uZScKICAgICAgICB9CiAgICAgIH0pOwogICAgICBib2FyZC5hcHBlbmRDaGlsZChuZXdNYWNoaW5lKTsKICAgICAgYm9hcmQuYXBwZW5kQ2hpbGQobmV3TWFjaGluZUxhYmVsKTsKICAgICAgdGhpcy5jb21wb25lbnQgPSBuZXdNYWNoaW5lOwogICAgICB0aGlzLmNvbXBvbmVudExhYmVsID0gbmV3TWFjaGluZUxhYmVsOwoKICAgICAgdGhpcy5fYWRkQ29ubmVjdGlvblBvaW50cygpOwogICAgfSAvLyB1cGRhdGluZyBwcm9wZXJ0aWVzCgogIH0sIHsKICAgIGtleTogInVwZGF0ZVBvcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlUG9zKHgsIHkpIHsKICAgICAgdGhpcy51cGRhdGVDZW50ZXIoeCwgeSk7CgogICAgICB0aGlzLl91cGRhdGVDb25uZWN0aW9uUG9pbnRzUG9zKCk7CgogICAgICB0aGlzLmNvbXBvbmVudC5zZXRBdHRyaWJ1dGUoImN4IiwgdGhpcy5jZW50ZXIueCk7CiAgICAgIHRoaXMuY29tcG9uZW50LnNldEF0dHJpYnV0ZSgiY3kiLCB0aGlzLmNlbnRlci55KTsKICAgICAgdGhpcy5jb21wb25lbnRMYWJlbC5zZXRBdHRyaWJ1dGUoIngiLCB0aGlzLmNlbnRlci54KTsKICAgICAgdGhpcy5jb21wb25lbnRMYWJlbC5zZXRBdHRyaWJ1dGUoInkiLCB0aGlzLmNlbnRlci55KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ1cGRhdGVGaWxsQ29sb3IiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUZpbGxDb2xvcihyZ2JDb2xvcikgewogICAgICB0aGlzLmZpbGxDb2xvciA9IHJnYkNvbG9yOwogICAgICB0aGlzLmNvbXBvbmVudC5zZXRBdHRyaWJ1dGUoImZpbGwiLCByZ2JDb2xvcik7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVzZXRDb2xvciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzZXRDb2xvcigpIHsKICAgICAgdGhpcy5maWxsQ29sb3IgPSAicmdiKDE4NywxNDMsMjA2KSI7CiAgICAgIHRoaXMuY29tcG9uZW50LnNldEF0dHJpYnV0ZSgiZmlsbCIsIHRoaXMuZmlsbENvbG9yKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW1vdmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZSgpIHsKICAgICAgTWFjaGluZS5hdmFpbGFibGVDb2Rlcy5wdXNoKHRoaXMuY29kZSk7CiAgICAgIHN0b3JlLmdldHRlcnMubWFjaGluZXMuZGVsZXRlKHRoaXMuY29kZSk7CiAgICAgIHRoaXMucmVtb3ZlU2VsZigpOwogICAgfSAvL21vdmVtZW50CgogIH0sIHsKICAgIGtleTogIl9tb3ZlTW91c2VEb3duSGFuZGxpbmciLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9tb3ZlTW91c2VEb3duSGFuZGxpbmcoKSB7CiAgICAgIHRoaXMubW91c2VEb3duID0gdHJ1ZTsKCiAgICAgIHRoaXMuX3RyYWNrTW92ZW1lbnQoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJfdHJhY2tNb3ZlbWVudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX3RyYWNrTW92ZW1lbnQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGhlYWRlck9mZnNldEhlaWdodCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJoZWFkZXIiKS5vZmZzZXRIZWlnaHQ7CiAgICAgIHZhciB0cmFja2VyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgIGlmICghX3RoaXMyLm1vdXNlRG93biB8fCAhX3RoaXMyLm1vdXNlT25Cb2FyZCgpKSB7CiAgICAgICAgICBjbGVhckludGVydmFsKHRyYWNrZXIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgdXBkYXRlZFggPSB3aW5kb3cubW91c2VYOwogICAgICAgICAgdmFyIHVwZGF0ZWRZID0gd2luZG93Lm1vdXNlWSAtIGhlYWRlck9mZnNldEhlaWdodDsKCiAgICAgICAgICBfdGhpczIudXBkYXRlUG9zKHVwZGF0ZWRYLCB1cGRhdGVkWSk7CgogICAgICAgICAgX3RoaXMyLl91cGRhdGVDb25uZWN0b3JzUG9zKCk7CiAgICAgICAgfQogICAgICB9LCAxMCk7CiAgICB9IC8vIGFkZGluZyBmdW5jdGlvbmFsaXR5CgogIH0sIHsKICAgIGtleTogIl9hZGRFdmVudExpc3RlbmVycyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX2FkZEV2ZW50TGlzdGVuZXJzKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuY29tcG9uZW50Lm9ubW91c2Vkb3duID0gZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMy5fbW92ZU1vdXNlRG93bkhhbmRsaW5nKCk7CgogICAgICAgIF90aGlzMy5zZXRTZWxmQXNTZWxlY3RlZCgpOwogICAgICB9OwoKICAgICAgdGhpcy5jb21wb25lbnQub25tb3VzZXVwID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBfdGhpczMuX21vdmVNb3VzZVVwSGFuZGxpbmcoKTsKICAgICAgfTsKICAgIH0gLy8gaGVscGVyIGZ1bmN0aW9ucwoKICB9LCB7CiAgICBrZXk6ICJfZ2VuZXJhdGVDb2RlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2VuZXJhdGVDb2RlKCkgewogICAgICBpZiAoTWFjaGluZS5hdmFpbGFibGVDb2Rlcy5sZW5ndGggPiAwKSByZXR1cm4gTWFjaGluZS5hdmFpbGFibGVDb2Rlcy5wb3AoKTtlbHNlIHJldHVybiBNYWNoaW5lLmNvZGVDb3VudCsrOwogICAgfQogIH0sIHsKICAgIGtleTogInVwZGF0ZUNlbnRlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlQ2VudGVyKHgsIHkpIHsKICAgICAgdGhpcy5jZW50ZXIueCA9IHg7CiAgICAgIHRoaXMuY2VudGVyLnkgPSB5OwogICAgfQogIH0sIHsKICAgIGtleTogInJlbW92ZVNlbGYiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZVNlbGYoKSB7CiAgICAgIHRoaXMuY29tcG9uZW50LnJlbW92ZSgpOwogICAgICB0aGlzLmNvbXBvbmVudExhYmVsLnJlbW92ZSgpOwogICAgICB0aGlzLmZyb21Db25uZWN0aW9uUG9pbnQuZGVsZXRlQWxsKCk7CiAgICAgIHRoaXMudG9Db25uZWN0aW9uUG9pbnQuZGVsZXRlQWxsKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiX21vdmVNb3VzZVVwSGFuZGxpbmciLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9tb3ZlTW91c2VVcEhhbmRsaW5nKCkgewogICAgICB0aGlzLm1vdXNlRG93biA9IGZhbHNlOwogICAgfQogIH0sIHsKICAgIGtleTogIm1vdXNlT25Cb2FyZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbW91c2VPbkJvYXJkKCkgewogICAgICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJvYXJkIikubWF0Y2hlcygnOmhvdmVyJyk7CiAgICB9IC8vY29ubmVjdGlvbiBwb2ludHMKCiAgfSwgewogICAga2V5OiAiX2FkZENvbm5lY3Rpb25Qb2ludHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9hZGRDb25uZWN0aW9uUG9pbnRzKCkgewogICAgICB0aGlzLmZyb21Db25uZWN0aW9uUG9pbnQgPSBuZXcgRnJvbUNvbm5lY3Rpb25Qb2ludCh0aGlzKTsKICAgICAgdGhpcy50b0Nvbm5lY3Rpb25Qb2ludCA9IG5ldyBUb0Nvbm5lY3Rpb25Qb2ludCh0aGlzKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJfdXBkYXRlQ29ubmVjdGlvblBvaW50c1BvcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX3VwZGF0ZUNvbm5lY3Rpb25Qb2ludHNQb3MoKSB7CiAgICAgIHRoaXMuZnJvbUNvbm5lY3Rpb25Qb2ludC51cGRhdGVQb3MoKTsKICAgICAgdGhpcy50b0Nvbm5lY3Rpb25Qb2ludC51cGRhdGVQb3MoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJfdXBkYXRlQ29ubmVjdG9yc1BvcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX3VwZGF0ZUNvbm5lY3RvcnNQb3MoKSB7CiAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLmZyb21Db25uZWN0aW9uUG9pbnQuaW5Db25uZWN0b3JzLnZhbHVlcygpKSwKICAgICAgICAgIF9zdGVwOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGNvbm5lY3RvciA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgY29ubmVjdG9yLnVwZGF0ZUVuZGluZ1BvaW50QXV0bygpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICB9CgogICAgICB2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMudG9Db25uZWN0aW9uUG9pbnQub3V0Q29ubmVjdG9ycy52YWx1ZXMoKSksCiAgICAgICAgICBfc3RlcDI7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgX2Nvbm5lY3RvciA9IF9zdGVwMi52YWx1ZTsKCiAgICAgICAgICBfY29ubmVjdG9yLnVwZGF0ZVN0YXJ0aW5nUG9pbnQoKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjIuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjIuZigpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAicmVzZXRDb25uZWN0aW9uUG9pbnRzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZXNldENvbm5lY3Rpb25Qb2ludHMoKSB7CiAgICAgIHRoaXMuZnJvbUNvbm5lY3Rpb25Qb2ludC5yZXNldCgpOwogICAgICB0aGlzLnRvQ29ubmVjdGlvblBvaW50LnJlc2V0KCk7CiAgICB9IC8vc2VsZWN0aW9uCgogIH0sIHsKICAgIGtleTogInNldFNlbGZBc1NlbGVjdGVkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRTZWxmQXNTZWxlY3RlZCgpIHsKICAgICAgdmFyIHByZXZTZWxlY3RlZENvbXBvbmVudCA9IHN0b3JlLmdldHRlcnMuZ2V0Q3VyclNlbGVjdGVkQ29tcG9uZW50OwoKICAgICAgaWYgKHByZXZTZWxlY3RlZENvbXBvbmVudCAhPSBudWxsKSB7CiAgICAgICAgcHJldlNlbGVjdGVkQ29tcG9uZW50LnVuc2VsZWN0U2VsZigpOwogICAgICB9CgogICAgICBzdG9yZS5jb21taXQoJ3NldEN1cnJTZWxlY3RlZENvbXBvbmVudCcsIHRoaXMpOwoKICAgICAgdGhpcy5fc2VsZWN0U2VsZigpOwogICAgfQogIH0sIHsKICAgIGtleTogIl9zZWxlY3RTZWxmIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfc2VsZWN0U2VsZigpIHsKICAgICAgdGhpcy5jb21wb25lbnQuc2V0QXR0cmlidXRlKCJzdHJva2UiLCAiI0U3NEMzQyIpOwogICAgICB0aGlzLmNvbXBvbmVudC5zZXRBdHRyaWJ1dGUoInN0cm9rZS13aWR0aCIsICIzcHgiKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ1bnNlbGVjdFNlbGYiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHVuc2VsZWN0U2VsZigpIHsKICAgICAgdGhpcy5jb21wb25lbnQuc2V0QXR0cmlidXRlKCJzdHJva2UiLCAiYmxhY2siKTsKICAgICAgdGhpcy5jb21wb25lbnQuc2V0QXR0cmlidXRlKCJzdHJva2Utd2lkdGgiLCAiMnB4Iik7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gTWFjaGluZTsKfShBc3NlbWJseUxpbmVDb21wb25lbnQpOwoKX2RlZmluZVByb3BlcnR5KE1hY2hpbmUsICJjb2RlQ291bnQiLCAwKTsKCl9kZWZpbmVQcm9wZXJ0eShNYWNoaW5lLCAiYXZhaWxhYmxlQ29kZXMiLCBbXSk7"},{"version":3,"sources":["/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/src/assemblyLineComponents/machine.js"],"names":["gsap","store","AssemblyLineComponent","Machine","x","y","component","componentLabel","center","code","_generateCode","mouseDown","isMachine","fromConnectionPoint","toConnectionPoint","fillColor","_create","_addEventListeners","board","document","getElementById","svgns","newMachine","createElementNS","width","set","attr","cx","cy","r","fill","stroke","newMachineLabel","textContent","dy","css","userSelect","pointerEvents","appendChild","_addConnectionPoints","updateCenter","_updateConnectionPointsPos","setAttribute","rgbColor","availableCodes","push","getters","machines","delete","removeSelf","_trackMovement","headerOffsetHeight","offsetHeight","tracker","setInterval","mouseOnBoard","clearInterval","updatedX","window","mouseX","updatedY","mouseY","updatePos","_updateConnectorsPos","onmousedown","_moveMouseDownHandling","setSelfAsSelected","onmouseup","_moveMouseUpHandling","length","pop","codeCount","remove","deleteAll","matches","FromConnectionPoint","ToConnectionPoint","inConnectors","values","connector","updateEndingPointAuto","outConnectors","updateStartingPoint","reset","prevSelectedComponent","getCurrSelectedComponent","unselectSelf","commit","_selectSelf"],"mappings":"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","sourcesContent":["import gsap from 'gsap';\nimport store from '../store';\nimport { AssemblyLineComponent } from './component.js';\n\nexport class Machine extends AssemblyLineComponent{\n  static codeCount = 0;\n  static availableCodes = [];\n\n  constructor(x, y) {\n    this.component = null;\n    this.componentLabel = null,\n    this.center = { x: x, y: y };\n\n    this.code = this._generateCode();\n    this.mouseDown = false;\n    this.isMachine = true;\n\n    this.fromConnectionPoint = null;\n    this.toConnectionPoint = null;\n\n    this.fillColor = \"black\";\n\n    this._create();\n    this._addEventListeners();\n  }\n  \n  // creation of the node\n  _create() {\n    const board = document.getElementById(\"board\");\n    const svgns = \"http://www.w3.org/2000/svg\"; //variable for the namespace\n    const newMachine = document.createElementNS(svgns, \"circle\");\n    this.width = 3.2;\n    gsap.set(newMachine, {\n      attr: {\n        cx: this.center.x, cy: this.center.y, r: \"1.6rem\",\n        fill: this.fillColor, stroke: \"black\", 'stroke-width': \"2px\", \n      }\n    });\n    \n    const newMachineLabel = document.createElementNS(svgns, \"text\");\n    newMachineLabel.textContent = `M${this.code}`;\n    gsap.set(newMachineLabel, {\n      attr: {\n        x: this.center.x, y: this.center.y, \"text-anchor\": \"middle\", \n        fill: \"white\", \"font-size\": \"medium\", dy: \"0.4rem\",\n      },\n      css: {\n        userSelect: 'none', pointerEvents: 'none',\n      }\n    })\n\n    board.appendChild(newMachine);\n    board.appendChild(newMachineLabel);\n    this.component = newMachine;\n    this.componentLabel = newMachineLabel;\n\n    this._addConnectionPoints();\n  }\n\n  // updating properties\n  updatePos(x, y){\n    this.updateCenter(x, y);\n    this._updateConnectionPointsPos();\n\n    this.component.setAttribute(\"cx\", this.center.x);\n    this.component.setAttribute(\"cy\", this.center.y);\n\n    this.componentLabel.setAttribute(\"x\", this.center.x);\n    this.componentLabel.setAttribute(\"y\", this.center.y);\n  }\n\n  updateFillColor(rgbColor) {\n    this.fillColor = rgbColor;\n    this.component.setAttribute(\"fill\", rgbColor);\n  }\n\n  resetColor() {\n    this.fillColor = \"rgb(187,143,206)\";\n    this.component.setAttribute(\"fill\", this.fillColor);\n  }\n\n  remove() {\n    Machine.availableCodes.push(this.code);\n    store.getters.machines.delete(this.code);\n    this.removeSelf();\n  }\n\n  //movement\n  _moveMouseDownHandling() {\n    this.mouseDown = true;\n    this._trackMovement();\n  }\n\n  _trackMovement(){\n    const headerOffsetHeight = document.getElementById(\"header\").offsetHeight;\n\n    const tracker = setInterval(() => {\n      if(!this.mouseDown || !this.mouseOnBoard()) {\n        clearInterval(tracker);\n      }\n      else {\n        const updatedX = window.mouseX;\n        const updatedY = window.mouseY - headerOffsetHeight;\n        this.updatePos(updatedX, updatedY);\n        this._updateConnectorsPos();\n      }\n    }, 10); \n  }\n\n  // adding functionality\n  _addEventListeners() {\n    this.component.onmousedown = () => {\n      this._moveMouseDownHandling();\n      this.setSelfAsSelected();\n    }\n    this.component.onmouseup = () => this._moveMouseUpHandling();\n  }\n\n  // helper functions\n  _generateCode() {\n    if(Machine.availableCodes.length > 0) return Machine.availableCodes.pop();\n    else return Machine.codeCount++;\n  }\n\n  updateCenter(x, y) {\n    this.center.x = x;\n    this.center.y = y;\n  }\n\n  removeSelf() {\n    this.component.remove();\n    this.componentLabel.remove();\n    this.fromConnectionPoint.deleteAll();\n    this.toConnectionPoint.deleteAll();\n  }\n\n  _moveMouseUpHandling() {\n    this.mouseDown = false;\n  }\n\n  mouseOnBoard(){\n    return document.getElementById(\"board\").matches(':hover');\n  }\n\n  //connection points\n  _addConnectionPoints() {\n    this.fromConnectionPoint = new FromConnectionPoint(this);\n    this.toConnectionPoint = new ToConnectionPoint(this);\n  }\n\n  _updateConnectionPointsPos() {\n    this.fromConnectionPoint.updatePos();\n    this.toConnectionPoint.updatePos();\n  }\n\n  _updateConnectorsPos() {\n    for (let connector of this.fromConnectionPoint.inConnectors.values()) {\n      connector.updateEndingPointAuto();\n    }\n\n    for (let connector of this.toConnectionPoint.outConnectors.values()) {\n      connector.updateStartingPoint();\n    }\n  }\n\n  resetConnectionPoints() {\n    this.fromConnectionPoint.reset();\n    this.toConnectionPoint.reset();\n  }\n\n  //selection\n  setSelfAsSelected() {\n    const prevSelectedComponent = store.getters.getCurrSelectedComponent;\n    if(prevSelectedComponent != null) {\n      prevSelectedComponent.unselectSelf();\n    }\n\n    store.commit('setCurrSelectedComponent', this);\n    this._selectSelf();\n  }\n\n  _selectSelf() {\n    this.component.setAttribute(\"stroke\", \"#E74C3C\");\n    this.component.setAttribute(\"stroke-width\", \"3px\");\n  }\n\n  unselectSelf() {\n    this.component.setAttribute(\"stroke\", \"black\");\n    this.component.setAttribute(\"stroke-width\", \"2px\");\n  }\n}"]}]}