{"remainingRequest":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/src/components/board.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/src/components/board.vue","mtime":1610474856891},{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/Control_Systems/signal-flow-graph-solver/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcEFjdGlvbnN9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBNYWNoaW5lIH0gZnJvbSAnLi4vYXNzZW1ibHlMaW5lQ29tcG9uZW50cy9tYWNoaW5lLmpzJzsKaW1wb3J0IHsgUXVldWUgfSBmcm9tICcuLi9hc3NlbWJseUxpbmVDb21wb25lbnRzL3F1ZXVlLmpzJzsKaW1wb3J0IHsgU3RhcnRpbmdRdWV1ZSB9IGZyb20gJy4uL2Fzc2VtYmx5TGluZUNvbXBvbmVudHMvc3RhcnRpbmdRdWV1ZS5qcyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2JvYXJkJywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYm9hcmRQcm9iczogewogICAgICAgIHdpZHRoOiAxMDAsCiAgICAgICAgaGVpZ2h0OiAxMDAsCiAgICAgIH0sCiAgICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBxdWV1ZTogInF1ZXVlIiwKICAgICAgICBtYWNoaW5lOiAibWFjaGluZSIsCiAgICAgIH0sCiAgICAgIGN1cnJlbnRDb21wb25lbnQ6IHsKICAgICAgICBjb21wb25lbnQ6IG51bGwsCiAgICAgICAgc3RhcnRpbmdQb3M6IHsgeDogMCwgeTogMCB9LAogICAgICB9LAogICAgICBtb3VzZVBvaW50ZXI6IHsKICAgICAgICBvcmlnaW5YOiAwLAogICAgICAgIG9yaWdpblk6IDAsCiAgICAgICAgeDogMCwgLy9jdXJyZW50IHBvc2l0aW9uIHJlbGF0aXZlIHRvIHgtYXhpcwogICAgICAgIHk6IDAsIC8vY3VycmVudCBwb3NpdGlvbiByZWxhdGl2ZSB0byB5LWF4aXMKICAgICAgICB1cGRhdGVQb3NpdGlvbjogZnVuY3Rpb24oKSB7CiAgICAgICAgICB0aGlzLnggPSB3aW5kb3cubW91c2VYIC0gdGhpcy5vcmlnaW5YOwogICAgICAgICAgdGhpcy55ID0gd2luZG93Lm1vdXNlWSAtIHRoaXMub3JpZ2luWTsKICAgICAgICB9LAogICAgICB9CiAgICB9CiAgfSwKICBjb21wdXRlZDogbWFwR2V0dGVycyhbJ2lzRHJhd2luZycsICdjb21wb25lbnRUeXBlJywgJ2dldEN1cnJlbnRDb21wb25lbnQnLCAnZ2V0Q3VyclNlbGVjdGVkQ29tcG9uZW50JywgJ3F1ZXVlcycsICdtYWNoaW5lcyddKSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBBY3Rpb25zKFsnZGlzYWJsZURyYXdpbmdNb2RlJywgJ3B1c2hOZXdRdWV1ZScsICdwdXNoTmV3TWFjaGluZScsICdzZXRDdXJyZW50Q29tcG9uZW50JywgJ3NldEJvYXJkTW91c2VEb3duJ10pLAogICAgLy9EcmF3aW5nIFNoYXBlcwogICAgbW91c2VPdmVySGFuZGxpbmcoKXsKICAgICAgY29uc3QgbW91c2VQb3NUcmFja2VyID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgIGlmKCF0aGlzLmlzRHJhd2luZyB8fCAhdGhpcy5tb3VzZU9uQm9hcmQoKSkgY2xlYXJJbnRlcnZhbChtb3VzZVBvc1RyYWNrZXIpOwogICAgICAgIGVsc2UgewogICAgICAgICAgdGhpcy5tb3VzZVBvaW50ZXIudXBkYXRlUG9zaXRpb24oKTsKCiAgICAgICAgICBpZih0aGlzLmdldEN1cnJlbnRDb21wb25lbnQgPT0gbnVsbCl7CiAgICAgICAgICAgIHRoaXMuc2V0U3RhcnRpbmdQb3MoKTsKICAgICAgICAgICAgdGhpcy5jcmVhdGVDb21wb25lbnQoKTsKICAgICAgICAgICAgdGhpcy5zZXRDdXJyZW50Q29tcG9uZW50KHRoaXMuY3VycmVudENvbXBvbmVudC5jb21wb25lbnQpOwogICAgICAgICAgfQoKICAgICAgICAgIGNvbnN0IHVwZGF0ZWRYID0gdGhpcy5tb3VzZVBvaW50ZXIueDsKICAgICAgICAgIGNvbnN0IHVwZGF0ZWRZID0gdGhpcy5tb3VzZVBvaW50ZXIueTsKICAgICAgICAgIHRoaXMuY3VycmVudENvbXBvbmVudC5jb21wb25lbnQudXBkYXRlUG9zKHVwZGF0ZWRYLCB1cGRhdGVkWSk7CiAgICAgICAgfQogICAgICB9LCAxMCk7IAogICAgfSwKCiAgICBtb3VzZURvd25IYW5kbGluZygpeyAgICAgIAogICAgICB0aGlzLnNldEJvYXJkTW91c2VEb3duKHRydWUpOwogICAgICBjb25zdCBjdXJyU2VsZWN0ZWRDb21wb25lbnQgPSAgdGhpcy5nZXRDdXJyU2VsZWN0ZWRDb21wb25lbnQ7CiAgICAgIGlmKGN1cnJTZWxlY3RlZENvbXBvbmVudCAhPSBudWxsICYmICFjdXJyU2VsZWN0ZWRDb21wb25lbnQubW91c2VEb3duKSBjdXJyU2VsZWN0ZWRDb21wb25lbnQudW5zZWxlY3RTZWxmKCk7CgogICAgICB0aGlzLnJlc2V0QWxsTWFjaGluZXMoKTsKICAgICAgdGhpcy5yZXNldEFsbFF1ZXVlcygpOwogICAgICAKICAgICAgaWYodGhpcy5nZXRDdXJyZW50Q29tcG9uZW50ID09IG51bGwpIHJldHVybjsKCiAgICAgIGlmKHRoaXMuaXNEcmF3aW5nKSB7CiAgICAgICAgaWYodGhpcy5pc1F1ZXVlKCkpIHRoaXMucHVzaE5ld1F1ZXVlKHRoaXMuY3VycmVudENvbXBvbmVudC5jb21wb25lbnQpOwogICAgICAgIGVsc2UgaWYodGhpcy5pc01hY2hpbmUoKSkgdGhpcy5wdXNoTmV3TWFjaGluZSh0aGlzLmN1cnJlbnRDb21wb25lbnQuY29tcG9uZW50KTsKICAgICAgICB0aGlzLmRpc2FibGVEcmF3aW5nTW9kZSgpOwogICAgICAgIHRoaXMuc2V0Q3VycmVudENvbXBvbmVudChudWxsKTsKICAgICAgfQogICAgfSwKCiAgICBtb3VzZVVwSGFuZGxpbmcoKSB7CiAgICAgIHRoaXMuc2V0Qm9hcmRNb3VzZURvd24oZmFsc2UpOwogICAgfSwKCiAgICBjcmVhdGVDb21wb25lbnQoKXsKICAgICAgaWYgKHRoaXMuaXNRdWV1ZSgpKXsKICAgICAgICB0aGlzLmN1cnJlbnRDb21wb25lbnQuY29tcG9uZW50ID0gbmV3IFF1ZXVlKHRoaXMuY3VycmVudENvbXBvbmVudC5zdGFydGluZ1Bvcy54LCB0aGlzLmN1cnJlbnRDb21wb25lbnQuc3RhcnRpbmdQb3MueSk7CiAgICAgIH0KICAgICAgZWxzZSBpZih0aGlzLmlzTWFjaGluZSgpKXsKICAgICAgICB0aGlzLmN1cnJlbnRDb21wb25lbnQuY29tcG9uZW50ID0gbmV3IE1hY2hpbmUodGhpcy5jdXJyZW50Q29tcG9uZW50LnN0YXJ0aW5nUG9zLngsIHRoaXMuY3VycmVudENvbXBvbmVudC5zdGFydGluZ1Bvcy55KTsKICAgICAgfQogICAgfSwKICAgIHNldFN0YXJ0aW5nUG9zKCl7CiAgICAgIHRoaXMuY3VycmVudENvbXBvbmVudC5zdGFydGluZ1Bvcy54ID0gdGhpcy5tb3VzZVBvaW50ZXIueDsKICAgICAgdGhpcy5jdXJyZW50Q29tcG9uZW50LnN0YXJ0aW5nUG9zLnkgPSB0aGlzLm1vdXNlUG9pbnRlci55OwogICAgfSwKICAgIG1vdXNlT25Cb2FyZCgpewogICAgICByZXR1cm4gdGhpcy5ib2FyZC5tYXRjaGVzKCc6aG92ZXInKTsKICAgIH0sCiAgICBpc1F1ZXVlKCl7CiAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudFR5cGUgPT09IHRoaXMuY29tcG9uZW50cy5xdWV1ZTsKICAgIH0sCiAgICBpc01hY2hpbmUoKXsKICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50VHlwZSA9PT0gdGhpcy5jb21wb25lbnRzLm1hY2hpbmU7CiAgICB9LAogICAgcmVzZXRBbGxNYWNoaW5lcygpIHsKICAgICAgZm9yKGxldCBtYWNoaW5lIG9mIHRoaXMubWFjaGluZXMudmFsdWVzKCkpewogICAgICAgIG1hY2hpbmUucmVzZXRDb2xvcigpOwogICAgICB9CiAgICB9LAogICAgcmVzZXRBbGxRdWV1ZXMoKSB7CiAgICAgIGZvcihsZXQgcXVldWUgb2YgdGhpcy5xdWV1ZXMudmFsdWVzKCkpewogICAgICAgIHF1ZXVlLnVwZGF0ZVByb2R1Y3RzTnVtYmVyKDApOwogICAgICB9CiAgICB9LAogICAgLy9pbml0aWFsaXppbmcgdGhlIGNpcmN1aXQKICAgIG1vdW50U3RhcnRpbmdRdWV1ZSgpIHsKICAgICAgY29uc3Qgc3RhcnRpbmdRdWV1ZVggPSB0aGlzLmJvYXJkUHJvYnMud2lkdGggLSA3MDsKICAgICAgY29uc3Qgc3RhcnRpbmdRdWV1ZVkgPSB0aGlzLmJvYXJkUHJvYnMuaGVpZ2h0IC8gMjsKICAgICAgY29uc3Qgc3RhcnRpbmdRdWV1ZSA9IG5ldyBTdGFydGluZ1F1ZXVlKHN0YXJ0aW5nUXVldWVYLCBzdGFydGluZ1F1ZXVlWSk7CiAgICAgIHRoaXMucHVzaE5ld1F1ZXVlKHN0YXJ0aW5nUXVldWUpOwogICAgfQogIH0sCiAgbW91bnRlZCgpewogICAgLy9zZXR0aW5nIHRoZSBoZWlnaHQgYW5kIHRoZSB3aWR0aCBvZiB0aGUgc3ZnIGJvYXJkCiAgICB0aGlzLmJvYXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJvYXJkIik7CiAgICB0aGlzLmJvYXJkUHJvYnMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDsKICAgIGNvbnN0IGhlYWRlckhlaWdodCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJoZWFkZXIiKS5vZmZzZXRIZWlnaHQ7CiAgICB0aGlzLm1vdXNlUG9pbnRlci5vcmlnaW5ZID0gaGVhZGVySGVpZ2h0OwogICAgdGhpcy5ib2FyZFByb2JzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAtIGhlYWRlckhlaWdodDsKCiAgICB0aGlzLm1vdW50U3RhcnRpbmdRdWV1ZSgpOwoKICAgIGRvY3VtZW50Lm9ubW91c2Vtb3ZlID0gZnVuY3Rpb24oZSkgewogICAgICB2YXIgZXZlbnQgPSBlIHx8IHdpbmRvdy5ldmVudDsKICAgICAgd2luZG93Lm1vdXNlWCA9IGV2ZW50LmNsaWVudFg7CiAgICAgIHdpbmRvdy5tb3VzZVkgPSBldmVudC5jbGllbnRZOwogICAgfQogIH0KfQo="},{"version":3,"sources":["board.vue"],"names":[],"mappings":";;;;;;;;;;AAUA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"board.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <svg  id=\"board\" :width=\"boardProbs.width\" :height=\"boardProbs.height\"\n        version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"\n        @mouseover=\"mouseOverHandling()\"\n        @mousedown=\"mouseDownHandling()\"\n        @mouseup=\"mouseUpHandling()\">\n  </svg>\n</template>\n\n<script>\nimport { mapGetters, mapActions} from 'vuex';\nimport { Machine } from '../assemblyLineComponents/machine.js';\nimport { Queue } from '../assemblyLineComponents/queue.js';\nimport { StartingQueue } from '../assemblyLineComponents/startingQueue.js';\n\nexport default {\n  name: 'board',\n  data() {\n    return {\n      boardProbs: {\n        width: 100,\n        height: 100,\n      },\n      components: {\n        queue: \"queue\",\n        machine: \"machine\",\n      },\n      currentComponent: {\n        component: null,\n        startingPos: { x: 0, y: 0 },\n      },\n      mousePointer: {\n        originX: 0,\n        originY: 0,\n        x: 0, //current position relative to x-axis\n        y: 0, //current position relative to y-axis\n        updatePosition: function() {\n          this.x = window.mouseX - this.originX;\n          this.y = window.mouseY - this.originY;\n        },\n      }\n    }\n  },\n  computed: mapGetters(['isDrawing', 'componentType', 'getCurrentComponent', 'getCurrSelectedComponent', 'queues', 'machines']),\n  methods: {\n    ...mapActions(['disableDrawingMode', 'pushNewQueue', 'pushNewMachine', 'setCurrentComponent', 'setBoardMouseDown']),\n    //Drawing Shapes\n    mouseOverHandling(){\n      const mousePosTracker = setInterval(() => {\n        if(!this.isDrawing || !this.mouseOnBoard()) clearInterval(mousePosTracker);\n        else {\n          this.mousePointer.updatePosition();\n\n          if(this.getCurrentComponent == null){\n            this.setStartingPos();\n            this.createComponent();\n            this.setCurrentComponent(this.currentComponent.component);\n          }\n\n          const updatedX = this.mousePointer.x;\n          const updatedY = this.mousePointer.y;\n          this.currentComponent.component.updatePos(updatedX, updatedY);\n        }\n      }, 10); \n    },\n\n    mouseDownHandling(){      \n      this.setBoardMouseDown(true);\n      const currSelectedComponent =  this.getCurrSelectedComponent;\n      if(currSelectedComponent != null && !currSelectedComponent.mouseDown) currSelectedComponent.unselectSelf();\n\n      this.resetAllMachines();\n      this.resetAllQueues();\n      \n      if(this.getCurrentComponent == null) return;\n\n      if(this.isDrawing) {\n        if(this.isQueue()) this.pushNewQueue(this.currentComponent.component);\n        else if(this.isMachine()) this.pushNewMachine(this.currentComponent.component);\n        this.disableDrawingMode();\n        this.setCurrentComponent(null);\n      }\n    },\n\n    mouseUpHandling() {\n      this.setBoardMouseDown(false);\n    },\n\n    createComponent(){\n      if (this.isQueue()){\n        this.currentComponent.component = new Queue(this.currentComponent.startingPos.x, this.currentComponent.startingPos.y);\n      }\n      else if(this.isMachine()){\n        this.currentComponent.component = new Machine(this.currentComponent.startingPos.x, this.currentComponent.startingPos.y);\n      }\n    },\n    setStartingPos(){\n      this.currentComponent.startingPos.x = this.mousePointer.x;\n      this.currentComponent.startingPos.y = this.mousePointer.y;\n    },\n    mouseOnBoard(){\n      return this.board.matches(':hover');\n    },\n    isQueue(){\n      return this.componentType === this.components.queue;\n    },\n    isMachine(){\n      return this.componentType === this.components.machine;\n    },\n    resetAllMachines() {\n      for(let machine of this.machines.values()){\n        machine.resetColor();\n      }\n    },\n    resetAllQueues() {\n      for(let queue of this.queues.values()){\n        queue.updateProductsNumber(0);\n      }\n    },\n    //initializing the circuit\n    mountStartingQueue() {\n      const startingQueueX = this.boardProbs.width - 70;\n      const startingQueueY = this.boardProbs.height / 2;\n      const startingQueue = new StartingQueue(startingQueueX, startingQueueY);\n      this.pushNewQueue(startingQueue);\n    }\n  },\n  mounted(){\n    //setting the height and the width of the svg board\n    this.board = document.getElementById(\"board\");\n    this.boardProbs.width = window.innerWidth;\n    const headerHeight = document.getElementById(\"header\").offsetHeight;\n    this.mousePointer.originY = headerHeight;\n    this.boardProbs.height = window.innerHeight - headerHeight;\n\n    this.mountStartingQueue();\n\n    document.onmousemove = function(e) {\n      var event = e || window.event;\n      window.mouseX = event.clientX;\n      window.mouseY = event.clientY;\n    }\n  }\n}\n</script>\n\n<style scoped>\n#board{\n  margin-top: 1px;\n  background-color: white;\n  position: relative;\n  z-index: 1;\n}\n</style>"]}]}